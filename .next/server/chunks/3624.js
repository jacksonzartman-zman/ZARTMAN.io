"use strict";exports.id=3624,exports.ids=[3624],exports.modules={8425:(a,b,c)=>{c.r(b),c.d(b,{"0099fab694446fbed8f54956e2bf2a2ac20632766e":()=>d.x});var d=c(83161)},14128:(a,b,c)=>{c.d(b,{$:()=>d});function d(a){return a instanceof Error?{message:a.message,stack:a.stack,name:a.name}:a??null}},15656:(a,b,c)=>{function d(a){return a&&"object"==typeof a&&"supabaseError"in a&&a.supabaseError?a.supabaseError:a}function e(a){let b=d(a);return b&&"object"==typeof b?{code:"string"==typeof b.code?b.code:null,message:"string"==typeof b.message?b.message:null,details:"string"==typeof b.details?b.details:null,hint:"string"==typeof b.hint?b.hint:null}:b??null}c.d(b,{H:()=>e,uW:()=>g});let f=new Set(["PGRST205","42703"]);function g(a){let b=d(a);if(!b||"object"!=typeof b)return!1;let c="code"in b&&"string"==typeof b.code?b.code:null;return!!c&&f.has(c)}},17536:(a,b,c)=>{c.d(b,{I:()=>e,P:()=>f});let d={basic:3,pro:10,enterprise:50};function e(a,b){let c=function(a){if(!a)return null;let b=a.indexOf("@");if(-1===b)return null;let c=a.slice(b+1).trim().toLowerCase();return c.length>0?c:null}(a.email??""),d=[a.app_metadata?.plan,a.user_metadata?.plan].map(a=>(function(a){if("string"!=typeof a)return null;let b=a.trim().toLowerCase();return"basic"===b||"pro"===b||"enterprise"===b?b:null})(a)).find(a=>!!a)??(c&&c.endsWith("zartman.com")?"enterprise":"basic"),e=a.app_metadata?.org_id??`org-${c??a.id}`,f=a.user_metadata?.org_name??b;return{id:e,name:"string"==typeof f&&f.trim().length>0?f.trim():b,domain:c??void 0,plan:d}}function f(a,b){let c=b.app_metadata?.org_seat_usage??b.user_metadata?.org_seat_usage??b.app_metadata?.seat_count??b.user_metadata?.seat_count,e="number"==typeof c?c:Number.parseInt("string"==typeof c?c:"",10),f=Number.isFinite(e)&&e>0?e:1,g=d[a.plan],h=Math.min(f,g);return{total:g,used:h,available:Math.max(g-h,0)}}},33271:(a,b,c)=>{c.d(b,{Dh:()=>m,JR:()=>o});var d=c(70495),e=c(69206),f=c(45180),g=c(15656);let h="https://qslztdkptpklopyedkfd.supabase.co/",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzbHp0ZGtwdHBrbG9weWVka2ZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0MTYzMzksImV4cCI6MjA3ODk5MjMzOX0.et6RdF18ioinJKYNNTE0UVA5HvRH1YaXmA2DgRHLPWo";if(!h||!i)throw Error("NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY must be set to enable auth.");async function j(){let a=await (0,d.UL)();return(0,f.createServerClient)(h,i,{cookies:{get:b=>a.get(b)?.value,set(){},remove(){}}})}let k="DYNAMIC_SERVER_USAGE";function l(a){if(!a)return!1;let b=a=>{if(!a)return!1;if("string"==typeof a)return a.startsWith(k);if("object"==typeof a){let c=a.digest;if("string"==typeof c&&c.startsWith(k))return!0;let d=a.cause;if(d&&b(d))return!0}return!1};return b(a)||a instanceof Error&&b(a.message)}async function m(){try{let a=await (0,d.UL)(),b="function"==typeof a.getAll?a.getAll().map(a=>a.name):[];console.log("[auth] cookies seen by server:",b);let c=await j(),{data:e,error:f}=await c.auth.getUser(),h=f?(0,g.H)(f):null;if(console.info("[auth] getUser result:",{hasUser:!!e?.user,email:e?.user?.email??null,error:h}),f){if(l(f))return console.info("[auth] getUser run skipped during static generation (dynamic route only)"),{user:null,error:h??f};return console.error("[auth] getUser failed",f),{user:null,error:h??f}}if(!e?.user)return console.warn("[auth] no authenticated user returned by Supabase"),{user:null,error:null};return{user:e.user,error:null}}catch(a){if(l(a))return console.info("[auth] getServerAuthUser skipped during static generation (dynamic route only)"),{user:null,error:a};return console.error("[auth] getServerAuthUser: unexpected failure",a),{user:null,error:a}}}class n extends Error{constructor(a="Authentication required"){super(a),this.name="UnauthorizedError"}}async function o(a){let{user:b,error:c}=await m();if(b)return b;throw console.error("[auth] requireUser failed",{reason:"no-user",error:c}),a?.redirectTo&&(0,e.redirect)(a.redirectTo),new n(a?.message??"You must be signed in.")}},50904:(a,b,c)=>{c.d(b,{qr:()=>h,w9:()=>i});var d=c(27982);let e=process.env.SUPABASE_URL??"https://qslztdkptpklopyedkfd.supabase.co/",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzbHp0ZGtwdHBrbG9weWVka2ZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0MTYzMzksImV4cCI6MjA3ODk5MjMzOX0.et6RdF18ioinJKYNNTE0UVA5HvRH1YaXmA2DgRHLPWo",g=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e)throw Error("SUPABASE_URL or NEXT_PUBLIC_SUPABASE_URL is required (check your env vars).");let h=()=>{if(!f)throw Error("NEXT_PUBLIC_SUPABASE_ANON_KEY is required");return(0,d.UU)(e,f,{auth:{persistSession:!1}})},i=(()=>{if(!g)throw Error("SUPABASE_SERVICE_ROLE_KEY is required");return(0,d.UU)(e,g,{auth:{persistSession:!1}})})()},68633:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{decryptActionBoundArgs:function(){return s},encryptActionBoundArgs:function(){return r}}),c(77925);let d=c(97954),e=c(27825),f=c(47686),g=c(77533),h=c(63033),i=c(26906),j=function(a){return a&&a.__esModule?a:{default:a}}(c(74515)),k=new TextEncoder,l=new TextDecoder,m=void 0,n=void 0;async function o(a,b){let c=await (0,g.getActionEncryptionKey)();if(void 0===c)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let d=atob(b),e=d.slice(0,16),f=d.slice(16),h=l.decode(await (0,g.decrypt)(c,(0,g.stringToUint8Array)(e),(0,g.stringToUint8Array)(f)));if(!h.startsWith(a))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return h.slice(a.length)}async function p(a,b){let c=await (0,g.getActionEncryptionKey)();if(void 0===c)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let d=new Uint8Array(16);h.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(d));let e=(0,g.arrayBufferToString)(d.buffer),f=await (0,g.encrypt)(c,d,k.encode(a+b));return btoa(e+(0,g.arrayBufferToString)(f))}var q=function(a){return a[a.Ready=0]="Ready",a[a.Pending=1]="Pending",a[a.Complete=2]="Complete",a}(q||{});let r=j.default.cache(async function a(b,...c){let e=h.workUnitAsyncStorage.getStore(),j=e?(0,h.getCacheSignal)(e):void 0,{clientModules:k}=(0,g.getClientReferenceManifestForRsc)(),l=Error();Error.captureStackTrace(l,a);let n=!1,o=e?(0,i.createHangingInputAbortSignal)(e):void 0,q=0;function r(){0===q&&(q=1,null==j||j.beginRead())}function s(){1===q&&(null==j||j.endRead()),q=2}o&&j&&o.addEventListener("abort",r,{once:!0});let t=await (0,f.streamToString)((0,d.renderToReadableStream)(c,k,{filterStackFrame:m,signal:o,onError(a){(null==o||!o.aborted)&&(n||(n=!0,l.message=a instanceof Error?a.message:String(a)))}}),o);if(n)throw s(),l;if(!e)return p(b,t);r();let u=(0,h.getPrerenderResumeDataCache)(e),v=(0,h.getRenderResumeDataCache)(e),w=b+t,x=(null==u?void 0:u.encryptedBoundArgs.get(w))??(null==v?void 0:v.encryptedBoundArgs.get(w));if(x)return x;let y=await p(b,t);return s(),null==u||u.encryptedBoundArgs.set(w,y),y});async function s(a,b){let c,d=await b,f=h.workUnitAsyncStorage.getStore();if(f){let b=(0,h.getCacheSignal)(f),e=(0,h.getPrerenderResumeDataCache)(f),g=(0,h.getRenderResumeDataCache)(f);(c=(null==e?void 0:e.decryptedBoundArgs.get(d))??(null==g?void 0:g.decryptedBoundArgs.get(d)))||(null==b||b.beginRead(),c=await o(a,d),null==b||b.endRead(),null==e||e.decryptedBoundArgs.set(d,c))}else c=await o(a,d);let{edgeRscModuleMapping:i,rscModuleMapping:j}=(0,g.getClientReferenceManifestForRsc)();return await (0,e.createFromReadableStream)(new ReadableStream({start(a){switch(a.enqueue(k.encode(c)),null==f?void 0:f.type){case"prerender":case"prerender-runtime":f.renderSignal.aborted?a.close():f.renderSignal.addEventListener("abort",()=>a.close(),{once:!0});break;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":case void 0:return a.close()}}}),{findSourceMapURL:n,serverConsumerManifest:{moduleLoading:null,moduleMap:j,serverModuleMap:(0,g.getServerModuleMap)()}})}},75879:(a,b,c)=>{Object.defineProperty(b,"A",{enumerable:!0,get:function(){return d.registerServerReference}});let d=c(97954)}};