"use strict";exports.id=1791,exports.ids=[1791],exports.modules={4697:(a,b,c)=>{c.d(b,{m:()=>f,n4:()=>g,tJ:()=>h});let d="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:opacity-60",e={md:"px-5 py-2 text-sm",sm:"px-4 py-1.5 text-xs"},f=e,g=`${d} ${e.md} bg-emerald-400 text-slate-950 shadow-lift-sm hover:bg-emerald-300 focus-visible:outline-emerald-300`,h=`${d} ${e.md} border border-emerald-400/60 bg-transparent text-emerald-200 hover:bg-emerald-400/10 focus-visible:outline-emerald-400`},7163:(a,b,c)=>{c.d(b,{C:()=>d,V:()=>e});function d(a){if(!a)return null;let b=Date.parse(a);return Number.isNaN(b)?null:b}function e(a){if("number"!=typeof a||Number.isNaN(a))return null;let b=Date.now()-a;if(b<6e4)return"just now";if(b<36e5){let a=Math.max(1,Math.round(b/6e4));return`${a} minute${1===a?"":"s"} ago`}if(b<864e5){let a=Math.round(b/36e5);return`${a} hour${1===a?"":"s"} ago`}let c=Math.round(b/864e5);return`${c} day${1===c?"":"s"} ago`}},7636:(a,b,c)=>{c.d(b,{l:()=>f});var d=c(84472),e=c(50521);async function f(a,b){if(!a)return console.log("[roles] resolveUserRoles called without user id"),{primaryRole:"unknown",isCustomer:!1,isSupplier:!1};console.log("[roles] resolving roles",{userId:a});let c=b?.customer,f=b?.supplier;if(void 0===c||void 0===f)try{let[b,g]=await Promise.all([void 0===c?(0,d.kZ)(a):Promise.resolve(c),void 0===f?(0,e.KF)(a):Promise.resolve(f)]);c=b,f=g}catch(b){return console.error("[roles] resolveUserRoles lookup failed",{userId:a,error:b}),{primaryRole:"unknown",isCustomer:!1,isSupplier:!1}}let g=!!c,h=!!f,i="unknown";return g&&!h?i="customer":!g&&h&&(i="supplier"),console.log("[roles] resolved roles",{userId:a,primaryRole:i,isCustomer:g,isSupplier:h}),{primaryRole:i,isCustomer:g,isSupplier:h}}},15355:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(75338),e=c(81171);function f({title:a,description:b,children:c,action:f,className:g}){return(0,d.jsxs)("section",{className:(0,e.A)("rounded-2xl border border-slate-900 bg-slate-950/70 p-6 shadow-sm shadow-slate-950/40",g),children:[(0,d.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-white",children:a}),b?(0,d.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:b}):null]}),f?(0,d.jsx)("div",{className:"flex shrink-0 items-center",children:f}):null]}),c?(0,d.jsx)("div",{className:"mt-4 text-sm text-slate-200",children:c}):null]})}},41683:(a,b,c)=>{c.d(b,{L:()=>g});var d=c(75338),e=c(81171);let f={customer:"bg-emerald-300/80",supplier:"bg-blue-300/80"};function g({role:a,statusMessage:b="All systems operational",syncedLabel:c}){let g=function(a){if(!a)return"Just now";let b=a.trim();return 0===b.length?"Just now":b.charAt(0).toUpperCase()+b.slice(1)}(c);return(0,d.jsxs)("section",{className:"flex flex-wrap items-center gap-2 rounded-2xl border border-slate-900/70 bg-slate-950/70 px-4 py-3 text-sm text-slate-300","aria-live":"polite",children:[(0,d.jsxs)("span",{className:"inline-flex items-center gap-2 font-semibold text-white",children:[(0,d.jsx)("span",{className:(0,e.A)("h-2.5 w-2.5 rounded-full",f[a]),"aria-hidden":"true"}),b]}),(0,d.jsxs)("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Last synced ",g]})]})}},63777:(a,b,c)=>{c.d(b,{l:()=>e});var d=c(75338);function e({title:a,description:b,action:c}){return(0,d.jsxs)("div",{className:"rounded-2xl border border-dashed border-slate-800/70 bg-slate-950/40 px-4 py-5 text-left",role:"status","aria-live":"polite",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,d.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-slate-600/70","aria-hidden":"true"}),a]}),(0,d.jsx)("p",{className:"mt-2 text-sm text-slate-400",children:b}),c?(0,d.jsx)("div",{className:"mt-3 text-sm text-slate-200",children:c}):null]})}},68633:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{decryptActionBoundArgs:function(){return s},encryptActionBoundArgs:function(){return r}}),c(77925);let d=c(97954),e=c(27825),f=c(47686),g=c(77533),h=c(63033),i=c(26906),j=function(a){return a&&a.__esModule?a:{default:a}}(c(74515)),k=new TextEncoder,l=new TextDecoder,m=void 0,n=void 0;async function o(a,b){let c=await (0,g.getActionEncryptionKey)();if(void 0===c)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let d=atob(b),e=d.slice(0,16),f=d.slice(16),h=l.decode(await (0,g.decrypt)(c,(0,g.stringToUint8Array)(e),(0,g.stringToUint8Array)(f)));if(!h.startsWith(a))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return h.slice(a.length)}async function p(a,b){let c=await (0,g.getActionEncryptionKey)();if(void 0===c)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let d=new Uint8Array(16);h.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(d));let e=(0,g.arrayBufferToString)(d.buffer),f=await (0,g.encrypt)(c,d,k.encode(a+b));return btoa(e+(0,g.arrayBufferToString)(f))}var q=function(a){return a[a.Ready=0]="Ready",a[a.Pending=1]="Pending",a[a.Complete=2]="Complete",a}(q||{});let r=j.default.cache(async function a(b,...c){let e=h.workUnitAsyncStorage.getStore(),j=e?(0,h.getCacheSignal)(e):void 0,{clientModules:k}=(0,g.getClientReferenceManifestForRsc)(),l=Error();Error.captureStackTrace(l,a);let n=!1,o=e?(0,i.createHangingInputAbortSignal)(e):void 0,q=0;function r(){0===q&&(q=1,null==j||j.beginRead())}function s(){1===q&&(null==j||j.endRead()),q=2}o&&j&&o.addEventListener("abort",r,{once:!0});let t=await (0,f.streamToString)((0,d.renderToReadableStream)(c,k,{filterStackFrame:m,signal:o,onError(a){(null==o||!o.aborted)&&(n||(n=!0,l.message=a instanceof Error?a.message:String(a)))}}),o);if(n)throw s(),l;if(!e)return p(b,t);r();let u=(0,h.getPrerenderResumeDataCache)(e),v=(0,h.getRenderResumeDataCache)(e),w=b+t,x=(null==u?void 0:u.encryptedBoundArgs.get(w))??(null==v?void 0:v.encryptedBoundArgs.get(w));if(x)return x;let y=await p(b,t);return s(),null==u||u.encryptedBoundArgs.set(w,y),y});async function s(a,b){let c,d=await b,f=h.workUnitAsyncStorage.getStore();if(f){let b=(0,h.getCacheSignal)(f),e=(0,h.getPrerenderResumeDataCache)(f),g=(0,h.getRenderResumeDataCache)(f);(c=(null==e?void 0:e.decryptedBoundArgs.get(d))??(null==g?void 0:g.decryptedBoundArgs.get(d)))||(null==b||b.beginRead(),c=await o(a,d),null==b||b.endRead(),null==e||e.decryptedBoundArgs.set(d,c))}else c=await o(a,d);let{edgeRscModuleMapping:i,rscModuleMapping:j}=(0,g.getClientReferenceManifestForRsc)();return await (0,e.createFromReadableStream)(new ReadableStream({start(a){switch(a.enqueue(k.encode(c)),null==f?void 0:f.type){case"prerender":case"prerender-runtime":f.renderSignal.aborted?a.close():f.renderSignal.addEventListener("abort",()=>a.close(),{once:!0});break;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":case void 0:return a.close()}}}),{findSourceMapURL:n,serverConsumerManifest:{moduleLoading:null,moduleMap:j,serverModuleMap:(0,g.getServerModuleMap)()}})}},75879:(a,b,c)=>{Object.defineProperty(b,"A",{enumerable:!0,get:function(){return d.registerServerReference}});let d=c(97954)},81171:(a,b,c)=>{c.d(b,{A:()=>d});let d=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}},85516:(a,b,c)=>{c.d(b,{K:()=>g});var d=c(75338),e=c(81171);let f={customer:"text-emerald-300",supplier:"text-blue-300"};function g({role:a,companyName:b}){return(0,d.jsxs)("section",{className:"rounded-2xl border border-slate-900 bg-slate-950/70 px-6 py-5 shadow-slate-950/30",children:[(0,d.jsxs)("p",{className:(0,e.A)("text-[11px] font-semibold uppercase tracking-[0.35em]",f[a]),children:[a," workspace"]}),(0,d.jsxs)("p",{className:"mt-2 text-lg text-slate-200",children:["Welcome back,"," ",(0,d.jsx)("span",{className:"font-semibold text-white",children:b})]}),(0,d.jsxs)("h1",{className:"mt-1 text-2xl font-semibold text-white",children:["Your ",a," workspace"]})]})}}};