(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6135:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(5155),n=r(2115);let l=function(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}(e))&&(a&&(a+=" "),a+=t);return a},s={file:null,name:"",email:"",company:"",notes:""};function o(){let[e,t]=(0,n.useState)(s),[r,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(null),[u,p]=(0,n.useState)(!1),x=(0,n.useRef)(null),f=e=>{let{name:r,value:a}=e.target;t(e=>({...e,[r]:a})),m(null),p(!1)},b=async r=>{if(r.preventDefault(),!e.file){m("Add a CAD file before uploading."),p(!1);return}if(!e.name.trim()||!e.email.trim()){m("Name and email are required so I know who to reply to."),p(!1);return}c(!0),m(null),p(!1);try{let r=new FormData;r.append("file",e.file),r.append("name",e.name.trim()),r.append("email",e.email.trim()),r.append("company",e.company.trim()),r.append("notes",e.notes.trim());let a=await fetch("/api/upload",{method:"POST",body:r});if(!a.ok)throw Error("Upload failed with status ".concat(a.status));t(e=>({...e,file:null,notes:""})),x.current&&(x.current.value=""),p(!0)}catch(e){console.error("Upload error:",e),m("Something went wrong while uploading. Try again in a moment."),p(!1)}finally{c(!1)}},h=e.file?e.file.name:"No file selected yet";return(0,a.jsx)("section",{className:" w-full  max-w-sm  sm:max-w-md  lg:max-w-sm  rounded-2xl  border  border-border  bg-surface/90  p-4  sm:p-5  text-sm  text-ink shadow-lg ",children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:l("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-4 py-6 text-center text-xs sm:text-sm transition-colors",r?"border-accent bg-accent/5":"border-border/80 bg-surface/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),o(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),o(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),o(!1)},onDrop:e=>{var r;e.preventDefault(),e.stopPropagation(),o(!1);let a=null==(r=e.dataTransfer.files)?void 0:r[0];a&&(t(e=>({...e,file:a})),m(null),p(!1))},children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"CAD file"}),(0,a.jsx)("p",{className:"text-[11px] text-muted mb-3",children:"STEP, IGES, STL, SolidWorks, or zipped assemblies. Max ~25\xa0MB."}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e;return null==(e=x.current)?void 0:e.click()},className:" inline-flex items-center justify-center rounded-full border border-border  px-4 py-2 text-xs font-medium hover:border-accent hover:text-accent  transition-colors mb-2 ",children:e.file?"Change file":"Browse from device"}),(0,a.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,a.jsxs)("p",{className:"mt-3 text-[11px] text-neutral-400 line-clamp-2",children:["Selected: ",(0,a.jsx)("span",{className:"font-medium",children:h})]}),(0,a.jsx)("input",{ref:x,type:"file",name:"file",accept:".step,.stp,.iges,.igs,.stl,.sldprt,.sldasm,.zip",onChange:e=>{var r,a;let n=null!=(a=null==(r=e.target.files)?void 0:r[0])?a:null;t(e=>({...e,file:n})),m(null),p(!1)},className:"hidden"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"name",className:"block text-xs font-medium text-muted mb-1",children:["Your name",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{id:"name",name:"name",required:!0,autoComplete:"name",value:e.name,onChange:f,className:" w-full rounded-md border border-border bg-surface/80 px-3 py-2  text-sm outline-none focus:border-accent focus:ring-1 focus:ring-accent "})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-xs font-medium text-muted mb-1",children:["Email",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",value:e.email,onChange:f,className:" w-full rounded-md border border-border bg-surface/80 px-3 py-2  text-sm outline-none focus:border-accent focus:ring-1 focus:ring-accent "})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"company",className:"block text-xs font-medium text-muted mb-1",children:"Company"}),(0,a.jsx)("input",{id:"company",name:"company",value:e.company,onChange:f,className:" w-full rounded-md border border-border bg-surface/80 px-3 py-2  text-sm outline-none focus:border-accent focus:ring-1 focus:ring-accent "})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-xs font-medium text-muted mb-1",children:"Process / quantity / timing"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",rows:3,placeholder:"CNC, qty 50, target ship date, special material or tolerances…",value:e.notes,onChange:f,className:" w-full rounded-md border border-border bg-surface/80 px-3 py-2  text-sm outline-none resize-none focus:border-accent focus:ring-1 focus:ring-accent "})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("button",{type:"submit",disabled:i,className:l("w-full inline-flex items-center justify-center rounded-full px-4 py-2.5 text-sm font-medium transition-colors","bg-accent text-black hover:bg-accent/90","disabled:opacity-60 disabled:cursor-not-allowed"),children:i?"Uploading…":"Upload file"}),d&&(0,a.jsxs)("p",{className:"text-[11px] text-red-400",role:"alert",children:["Error: ",d]}),u&&!d&&(0,a.jsx)("p",{className:"text-[11px] text-emerald-400",role:"status",children:"Thanks — your CAD file is in the queue. I’ll take a look."})]})]})})}},7254:(e,t,r)=>{Promise.resolve().then(r.bind(r,6135))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);