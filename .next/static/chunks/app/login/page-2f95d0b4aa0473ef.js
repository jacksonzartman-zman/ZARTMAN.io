(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{411:(e,o,n)=>{Promise.resolve().then(n.t.bind(n,2619,23)),Promise.resolve().then(n.bind(n,2337))},2337:(e,o,n)=>{"use strict";n.d(o,{default:()=>r});var i=n(2115),s=n(63);let l=(0,n(3587).createBrowserClient)("https://qslztdkptpklopyedkfd.supabase.co/","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzbHp0ZGtwdHBrbG9weWVka2ZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0MTYzMzksImV4cCI6MjA3ODk5MjMzOX0.et6RdF18ioinJKYNNTE0UVA5HvRH1YaXmA2DgRHLPWo");function r(){let e=(0,s.useRouter)();return(0,i.useEffect)(()=>{(async()=>{var o;let n=new URL(window.location.href),i=null!=(o=window.location.hash)?o:"",s=new URLSearchParams(i.replace(/^#/,"")),r=s.get("access_token"),t=s.get("refresh_token"),a=n.searchParams.get("code"),c=!!(r&&t);if(console.log("[login bridge] current URL:",n.toString()),console.log("[login bridge] hash:",i),console.log("[login bridge] access_token present?",!!r),console.log("[login bridge] refresh_token present?",!!t),console.log("[login bridge] code param:",a),!c&&!a)return console.log("[login bridge] no magic-link tokens found, skipping");try{if(c&&r&&t){console.log("[login bridge] calling supabase.auth.setSession");let{error:e}=await l.auth.setSession({access_token:r,refresh_token:t});if(e)return void console.error("[login bridge] setSession failed",e)}else if(a){console.log("[login bridge] calling supabase.auth.exchangeCodeForSession");let{error:e}=await l.auth.exchangeCodeForSession(a);if(e)return void console.error("[login bridge] exchangeCodeForSession failed",e)}console.log("[login bridge] session established on client, cleaning URL and reloading /login"),window.history.replaceState({},"","/login"),e.replace("/login")}catch(e){console.error("[login bridge] failed to process Supabase login URL",e)}})()},[e]),null}}},e=>{e.O(0,[619,598,441,255,358],()=>e(e.s=411)),_N_E=e.O()}]);