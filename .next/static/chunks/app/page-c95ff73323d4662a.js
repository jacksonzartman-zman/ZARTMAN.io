(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{490:(e,t,r)=>{Promise.resolve().then(r.bind(r,5559)),Promise.resolve().then(r.bind(r,6135))},926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return l.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let l=r(1209),a=r(5153),s=r(7197)},5559:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var l=r(5155),a=r(7650),s=r(926);let n=(0,s.createServerReference)("60c958e32ecaff50ff540729d9309b337bd5f4e68f",s.callServer,void 0,s.findSourceMapURL,"requestEarlyAccess"),i={};function o(){let[e,t]=(0,a.useFormState)(n,i);return(0,l.jsxs)("form",{action:t,className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-inner",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,l.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,l.jsx)("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"you@team.com",className:"flex-1 rounded-full border border-slate-700 bg-black/30 px-4 py-2 text-sm text-slate-100 placeholder:text-slate-500 outline-none focus:border-emerald-400"}),(0,l.jsx)(d,{})]}),(null==e?void 0:e.error)&&(0,l.jsx)("p",{className:"text-sm text-red-400",children:e.error}),(null==e?void 0:e.success)&&e.message&&(0,l.jsx)("p",{className:"text-sm text-emerald-300",children:e.message})]})}function d(){let{pending:e}=(0,a.useFormStatus)();return(0,l.jsx)("button",{type:"submit",disabled:e,className:"inline-flex items-center justify-center rounded-full bg-emerald-400 px-5 py-2 text-sm font-semibold text-slate-950 transition hover:bg-emerald-300 disabled:opacity-60",children:e?"Sending...":"Request early access"})}},6135:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var l=r(5155),a=r(2115);let s=function(){for(var e,t,r=0,l="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,l,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(l=e(t[r]))&&(a&&(a+=" "),a+=l)}else for(l in t)t[l]&&(a&&(a+=" "),a+=l);return a}(e))&&(l&&(l+=" "),l+=t);return l},n={file:null,fileName:null,name:"",email:"",company:"",notes:""},i=["step","stp","iges","igs","stl","sldprt","sldasm","zip","prt","sat","x_t","x_b","ipt"];function o(e){let t=e.name.toLowerCase().split("."),r=t.length>1?t.pop():"";return i.includes(r)}function d(){let[e,t]=(0,a.useState)(n),[r,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),x=!!(e.file&&e.name&&e.email),b=e=>r=>{let l=r.target.value;t(t=>({...t,[e]:l}))},h=async r=>{var l,a;if(r.preventDefault(),u(null),f(!1),!e.file)return void u("Please select a CAD file to upload.");if(!o(e.file))return void u("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, or zipped CAD files.");if(!e.name||!e.email)return void u("Please add at least your name and email.");c(!0);try{let r=new FormData;r.append("file",e.file),r.append("name",e.name),r.append("email",e.email),r.append("company",e.company),r.append("notes",e.notes);let a=await fetch("/api/upload",{method:"POST",body:r});if(!a.ok){let e=await a.json().catch(()=>null);throw Error(null!=(l=null==e?void 0:e.message)?l:"Upload failed")}t(e=>({...e,file:null,fileName:null,notes:""})),f(!0),u(null)}catch(e){console.error(e),u(null!=(a=null==e?void 0:e.message)?a:"Upload failed. Please try again."),f(!1)}finally{c(!1)}};return(0,l.jsxs)("section",{"aria-label":"Upload CAD file",className:"relative flex flex-col rounded-3xl border border-border bg-surface p-6 sm:p-8",children:[(0,l.jsxs)("div",{className:s("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-6 py-10 text-center text-sm sm:px-8 sm:py-12",r?"border-accent/80 bg-accent/5":"border-border/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),i(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),i(!1)},onDrop:e=>{var r;e.preventDefault(),e.stopPropagation(),i(!1);let l=null==(r=e.dataTransfer.files)?void 0:r[0];if(l){if(!o(l)){u("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, or zipped CAD files."),f(!1),t(e=>({...e,file:null,fileName:null}));return}u(null),f(!1),t(e=>({...e,file:l,fileName:l.name}))}},children:[(0,l.jsx)("p",{className:"text-xs text-muted",children:"STEP, IGES, STL, SolidWorks, or zipped assemblies. Max ~25 MB."}),(0,l.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-2",children:[(0,l.jsx)("label",{htmlFor:"file",className:"inline-flex cursor-pointer items-center justify-center rounded-full border border-border px-4 py-2 text-xs font-medium text-foreground transition hover:border-accent hover:text-accent",children:"Browse from device"}),(0,l.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,l.jsxs)("p",{className:"mt-1 text-[11px] text-muted",children:["Selected:"," ",e.fileName?(0,l.jsx)("span",{className:"text-foreground",children:e.fileName}):"No file selected yet"]})]}),(0,l.jsx)("input",{id:"file",name:"file",type:"file",className:"hidden",onChange:e=>{var r,l;let a=null!=(l=null==(r=e.target.files)?void 0:r[0])?l:null;if(a){if(!o(a)){u("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, or zipped CAD files."),f(!1),t(e=>({...e,file:null,fileName:null})),e.target.value="";return}u(null),f(!1),t(e=>({...e,file:a,fileName:a.name}))}},accept:".step,.stp,.iges,.igs,.stl,.sldprt,.sldasm,.zip,.prt,.sat,.x_t,.x_b,.ipt"})]}),(0,l.jsxs)("form",{onSubmit:h,className:"mt-6 space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("label",{htmlFor:"name",className:"text-xs font-medium text-muted tracking-wide",children:["Your name",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{id:"name",type:"text",required:!0,value:e.name,onChange:b("name"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("label",{htmlFor:"email",className:"text-xs font-medium text-muted tracking-wide",children:["Email",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{id:"email",type:"email",required:!0,value:e.email,onChange:b("email"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{htmlFor:"company",className:"text-xs font-medium text-muted tracking-wide",children:"Company"}),(0,l.jsx)("input",{id:"company",type:"text",value:e.company,onChange:b("company"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{htmlFor:"notes",className:"text-xs font-medium text-muted tracking-wide",children:"Process / quantity / timing"}),(0,l.jsx)("textarea",{id:"notes",rows:3,value:e.notes,onChange:b("notes"),placeholder:"CNC, qty 50, target ship date, special material or tolerances...",className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,l.jsx)("div",{className:"pt-1",children:(0,l.jsx)("button",{type:"submit",disabled:d||!x,className:s("mt-2 w-full rounded-full px-6 py-3 text-sm font-medium text-black shadow-sm transition disabled:cursor-not-allowed disabled:opacity-70",x&&!d?"bg-emerald-500 hover:bg-emerald-400":"bg-emerald-500/40"),children:d?"Uploading...":"Upload file"})}),(0,l.jsxs)("div",{className:"min-h-[1.25rem] pt-1",children:[m&&(0,l.jsxs)("p",{className:"text-xs text-red-400",role:"alert",children:["Error: ",m]}),!m&&p&&(0,l.jsx)("p",{className:"text-xs text-emerald-400",role:"status",children:"Thanks — your CAD file is in the queue. I’ll take a look."})]})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=490)),_N_E=e.O()}]);