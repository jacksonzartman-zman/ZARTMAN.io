(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{926:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let r=l(1209),a=l(5153),s=l(7197)},2699:(e,t,l)=>{"use strict";l.d(t,{default:()=>u});var r=l(5155),a=l(2115);let s=function(){for(var e,t,l=0,r="",a=arguments.length;l<a;l++)(e=arguments[l])&&(t=function e(t){var l,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(l=0;l<s;l++)t[l]&&(r=e(t[l]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}(e))&&(r&&(r+=" "),r+=t);return r},n=["stl","step","stp","iges","igs","sldprt","sldasm","pdf","zip"],i=new Set(n),o=n.map(e=>".".concat(e)).join(","),d={file:null,fileName:null,name:"",email:"",company:"",notes:""},c=e=>(e=>{let t=e.toLowerCase().split("."),l=t.length>1?t.pop():"";return i.has(l)})(e.name);function u(){let[e,t]=(0,a.useState)(d),[l,n]=(0,a.useState)(!1),[i,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),[b,g]=(0,a.useState)(null),[h,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if("undefined"!=typeof navigator){var e;y(!!(e=navigator.userAgent)&&(!!/(ipad|iphone|ipod)/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)))}},[]);let v=!!(e.file&&e.name&&e.email),N=e=>l=>{let r=l.target.value;t(t=>({...t,[e]:r}))},j=async l=>{if(l.preventDefault(),p(null),x(!1),g(null),!e.file)return void p("Please select a CAD file to upload.");if(!c(e.file))return void p("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files.");if(!e.name||!e.email)return void p("Please add at least your name and email.");u(!0);try{let l,r=new FormData;r.append("file",e.file),r.append("name",e.name),r.append("email",e.email),r.append("company",e.company),r.append("notes",e.notes);let a=await fetch("/api/upload",{method:"POST",body:r}),s=await a.text(),n=null;if(s)try{n=JSON.parse(s)}catch(e){n=null}let i=(e=>{if(!e||"object"!=typeof e)return null;if("string"==typeof e.message){let t=e.message.trim();if(t)return t}if("string"==typeof e.error){let t=e.error.trim();if(t)return t}if(e.details&&"object"==typeof e.details&&"message"in e.details&&"string"==typeof e.details.message){let t=e.details.message.trim();if(t)return t}return null})(n),o=(l=n)&&"object"==typeof l&&"success"in l&&"boolean"==typeof l.success?n:null;if((null==o?void 0:o.success)===!1||!a.ok){let e=a.status||500,t=null!=i?i:n?"Upload failed. Please try again.":"Upload failed (".concat(e,")");throw Error(t)}if(!o){let e=a.status||500;throw Error("Upload failed (".concat(e,")"))}t(e=>({...e,file:null,fileName:null,notes:""})),x(!0),g(null!=i?i:"Upload complete. We’ll review your CAD shortly."),p(null)}catch(e){var r;console.error(e),p(null!=(r=null==e?void 0:e.message)?r:"Upload failed. Please try again."),x(!1),g(null)}finally{u(!1)}};return(0,r.jsxs)("section",{"aria-label":"Upload CAD file",className:"relative flex flex-col rounded-3xl border border-border bg-surface p-6 sm:p-8",children:[(0,r.jsxs)("div",{className:s("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-6 py-10 text-center text-sm sm:px-8 sm:py-12",l?"border-accent/80 bg-accent/5":"border-border/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),n(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),n(!1)},onDrop:e=>{var l;e.preventDefault(),e.stopPropagation(),n(!1);let r=null==(l=e.dataTransfer.files)?void 0:l[0];if(r){if(!c(r)){p("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files."),x(!1),g(null),t(e=>({...e,file:null,fileName:null}));return}p(null),x(!1),g(null),t(e=>({...e,file:r,fileName:r.name}))}},children:[(0,r.jsx)("p",{className:"text-xs text-muted",children:"STEP, IGES, STL, SolidWorks, PDF, or zipped assemblies. Max ~25 MB."}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-2",children:[(0,r.jsx)("label",{htmlFor:"file",className:"inline-flex cursor-pointer items-center justify-center rounded-full border border-border px-4 py-2 text-xs font-medium text-foreground transition hover:border-accent hover:text-accent",children:"Browse from device"}),(0,r.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,r.jsxs)("p",{className:"mt-1 text-[11px] text-muted",children:["Selected:"," ",e.fileName?(0,r.jsx)("span",{className:"text-foreground",children:e.fileName}):"No file selected yet"]})]}),(0,r.jsx)("input",{id:"file",name:"file",type:"file",className:"hidden",onChange:e=>{var l,r;let a=null!=(r=null==(l=e.target.files)?void 0:l[0])?r:null;if(a){if(!c(a)){p("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files."),x(!1),g(null),t(e=>({...e,file:null,fileName:null})),e.target.value="";return}p(null),x(!1),g(null),t(e=>({...e,file:a,fileName:a.name}))}},accept:h?void 0:o})]}),(0,r.jsxs)("form",{onSubmit:j,className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{htmlFor:"name",className:"text-xs font-medium text-muted tracking-wide",children:["Your name",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"name",type:"text",required:!0,value:e.name,onChange:N("name"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{htmlFor:"email",className:"text-xs font-medium text-muted tracking-wide",children:["Email",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"email",type:"email",required:!0,value:e.email,onChange:N("email"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"company",className:"text-xs font-medium text-muted tracking-wide",children:"Company"}),(0,r.jsx)("input",{id:"company",type:"text",value:e.company,onChange:N("company"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"notes",className:"text-xs font-medium text-muted tracking-wide",children:"Process / quantity / timing"}),(0,r.jsx)("textarea",{id:"notes",rows:3,value:e.notes,onChange:N("notes"),placeholder:"CNC, qty 50, target ship date, special material or tolerances...",className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,r.jsx)("div",{className:"pt-1",children:(0,r.jsx)("button",{type:"submit",disabled:i||!v,className:s("mt-2 w-full rounded-full px-6 py-3 text-sm font-medium text-black shadow-sm transition disabled:cursor-not-allowed disabled:opacity-70",v&&!i?"bg-emerald-500 hover:bg-emerald-400":"bg-emerald-500/40"),children:i?"Uploading...":"Upload file"})}),(0,r.jsxs)("div",{className:"min-h-[1.25rem] pt-1",children:[m&&(0,r.jsxs)("p",{className:"text-xs text-red-400",role:"alert",children:["Error: ",m]}),!m&&f&&b&&(0,r.jsx)("p",{className:"text-xs text-emerald-400",role:"status",children:b})]})]})]})}},9810:(e,t,l)=>{"use strict";l.d(t,{default:()=>o});var r=l(5155),a=l(7650),s=l(926);let n=(0,s.createServerReference)("6030f88a2877fa99b123fd6d35404fd7da46deb559",s.callServer,void 0,s.findSourceMapURL,"requestEarlyAccess"),i={};function o(){let[e,t]=(0,a.useFormState)(n,i);return(0,r.jsxs)("form",{action:t,className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-inner",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,r.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"you@team.com",className:"flex-1 rounded-full border border-slate-700 bg-black/30 px-4 py-2 text-sm text-slate-100 placeholder:text-slate-500 outline-none focus:border-emerald-400"}),(0,r.jsx)(d,{})]}),(null==e?void 0:e.error)&&(0,r.jsx)("p",{className:"text-sm text-red-400",children:e.error}),(null==e?void 0:e.success)&&e.message&&(0,r.jsx)("p",{className:"text-sm text-emerald-300",children:e.message})]})}function d(){let{pending:e}=(0,a.useFormStatus)();return(0,r.jsx)("button",{type:"submit",disabled:e,className:"inline-flex items-center justify-center rounded-full bg-emerald-400 px-5 py-2 text-sm font-semibold text-slate-950 transition hover:bg-emerald-300 disabled:opacity-60",children:e?"Sending...":"Request early access"})}},9926:(e,t,l)=>{Promise.resolve().then(l.bind(l,9810)),Promise.resolve().then(l.bind(l,2699))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9926)),_N_E=e.O()}]);