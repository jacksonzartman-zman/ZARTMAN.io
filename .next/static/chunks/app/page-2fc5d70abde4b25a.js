(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}});let a=r(1209),l=r(5153),s=r(7197)},2699:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(5155),l=r(2115);let s=function(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=function e(t){var r,a,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(l&&(l+=" "),l+=a)}else for(a in t)t[a]&&(l&&(l+=" "),l+=a);return l}(e))&&(a&&(a+=" "),a+=t);return a},n=["stl","step","stp","iges","igs","sldprt","sldasm","pdf","zip"],i=new Set(n),o=n.map(e=>".".concat(e)).join(","),d={file:null,fileName:null,name:"",email:"",company:"",notes:""},c=e=>(e=>{let t=e.toLowerCase().split("."),r=t.length>1?t.pop():"";return i.has(r)})(e.name);function m(){let[e,t]=(0,l.useState)(d),[r,n]=(0,l.useState)(!1),[i,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(null),[f,x]=(0,l.useState)(!1),[b,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if("undefined"!=typeof navigator){var e;h(!!(e=navigator.userAgent)&&(!!/(ipad|iphone|ipod)/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)))}},[]);let g=!!(e.file&&e.name&&e.email),v=e=>r=>{let a=r.target.value;t(t=>({...t,[e]:a}))},y=async r=>{var a,l;if(r.preventDefault(),p(null),x(!1),!e.file)return void p("Please select a CAD file to upload.");if(!c(e.file))return void p("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files.");if(!e.name||!e.email)return void p("Please add at least your name and email.");m(!0);try{let r=new FormData;r.append("file",e.file),r.append("name",e.name),r.append("email",e.email),r.append("company",e.company),r.append("notes",e.notes);let l=await fetch("/api/upload",{method:"POST",body:r});if(!l.ok){let e=await l.json().catch(()=>null);throw Error(null!=(a=null==e?void 0:e.message)?a:"Upload failed")}t(e=>({...e,file:null,fileName:null,notes:""})),x(!0),p(null)}catch(e){console.error(e),p(null!=(l=null==e?void 0:e.message)?l:"Upload failed. Please try again."),x(!1)}finally{m(!1)}};return(0,a.jsxs)("section",{"aria-label":"Upload CAD file",className:"relative flex flex-col rounded-3xl border border-border bg-surface p-6 sm:p-8",children:[(0,a.jsxs)("div",{className:s("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-6 py-10 text-center text-sm sm:px-8 sm:py-12",r?"border-accent/80 bg-accent/5":"border-border/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),n(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),n(!1)},onDrop:e=>{var r;e.preventDefault(),e.stopPropagation(),n(!1);let a=null==(r=e.dataTransfer.files)?void 0:r[0];if(a){if(!c(a)){p("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files."),x(!1),t(e=>({...e,file:null,fileName:null}));return}p(null),x(!1),t(e=>({...e,file:a,fileName:a.name}))}},children:[(0,a.jsx)("p",{className:"text-xs text-muted",children:"STEP, IGES, STL, SolidWorks, PDF, or zipped assemblies. Max ~25 MB."}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-2",children:[(0,a.jsx)("label",{htmlFor:"file",className:"inline-flex cursor-pointer items-center justify-center rounded-full border border-border px-4 py-2 text-xs font-medium text-foreground transition hover:border-accent hover:text-accent",children:"Browse from device"}),(0,a.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,a.jsxs)("p",{className:"mt-1 text-[11px] text-muted",children:["Selected:"," ",e.fileName?(0,a.jsx)("span",{className:"text-foreground",children:e.fileName}):"No file selected yet"]})]}),(0,a.jsx)("input",{id:"file",name:"file",type:"file",className:"hidden",onChange:e=>{var r,a;let l=null!=(a=null==(r=e.target.files)?void 0:r[0])?a:null;if(l){if(!c(l)){p("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files."),x(!1),t(e=>({...e,file:null,fileName:null})),e.target.value="";return}p(null),x(!1),t(e=>({...e,file:l,fileName:l.name}))}},accept:b?void 0:o})]}),(0,a.jsxs)("form",{onSubmit:y,className:"mt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"name",className:"text-xs font-medium text-muted tracking-wide",children:["Your name",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"name",type:"text",required:!0,value:e.name,onChange:v("name"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"text-xs font-medium text-muted tracking-wide",children:["Email",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"email",type:"email",required:!0,value:e.email,onChange:v("email"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"company",className:"text-xs font-medium text-muted tracking-wide",children:"Company"}),(0,a.jsx)("input",{id:"company",type:"text",value:e.company,onChange:v("company"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"text-xs font-medium text-muted tracking-wide",children:"Process / quantity / timing"}),(0,a.jsx)("textarea",{id:"notes",rows:3,value:e.notes,onChange:v("notes"),placeholder:"CNC, qty 50, target ship date, special material or tolerances...",className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,a.jsx)("div",{className:"pt-1",children:(0,a.jsx)("button",{type:"submit",disabled:i||!g,className:s("mt-2 w-full rounded-full px-6 py-3 text-sm font-medium text-black shadow-sm transition disabled:cursor-not-allowed disabled:opacity-70",g&&!i?"bg-emerald-500 hover:bg-emerald-400":"bg-emerald-500/40"),children:i?"Uploading...":"Upload file"})}),(0,a.jsxs)("div",{className:"min-h-[1.25rem] pt-1",children:[u&&(0,a.jsxs)("p",{className:"text-xs text-red-400",role:"alert",children:["Error: ",u]}),!u&&f&&(0,a.jsx)("p",{className:"text-xs text-emerald-400",role:"status",children:"Thanks — your CAD file is in the queue. I’ll take a look."})]})]})]})}},3322:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(5155),l=r(7650),s=r(926);let n=(0,s.createServerReference)("60aa2d99827576a68881c800c00b62a74c8f822a50",s.callServer,void 0,s.findSourceMapURL,"requestEarlyAccess"),i={};function o(){let[e,t]=(0,l.useFormState)(n,i);return(0,a.jsxs)("form",{action:t,className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-inner",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"you@team.com",className:"flex-1 rounded-full border border-slate-700 bg-black/30 px-4 py-2 text-sm text-slate-100 placeholder:text-slate-500 outline-none focus:border-emerald-400"}),(0,a.jsx)(d,{})]}),(null==e?void 0:e.error)&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:e.error}),(null==e?void 0:e.success)&&e.message&&(0,a.jsx)("p",{className:"text-sm text-emerald-300",children:e.message})]})}function d(){let{pending:e}=(0,l.useFormStatus)();return(0,a.jsx)("button",{type:"submit",disabled:e,className:"inline-flex items-center justify-center rounded-full bg-emerald-400 px-5 py-2 text-sm font-semibold text-slate-950 transition hover:bg-emerald-300 disabled:opacity-60",children:e?"Sending...":"Request early access"})}},9926:(e,t,r)=>{Promise.resolve().then(r.bind(r,3322)),Promise.resolve().then(r.bind(r,2699))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9926)),_N_E=e.O()}]);