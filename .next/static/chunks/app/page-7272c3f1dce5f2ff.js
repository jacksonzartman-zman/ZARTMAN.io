(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5225:(e,l,t)=>{"use strict";t.d(l,{default:()=>s});var a=t(5155),n=t(2115);function s(){let[e,l]=n.useState(null),[t,s]=n.useState("idle"),[r,u]=n.useState(null);async function o(t){t.preventDefault(),s("uploading"),u(null);let a=t.currentTarget,n=new FormData(a);e&&n.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:n}),t=null;try{t=await e.json()}catch(e){}if(!e.ok||(null==t?void 0:t.success)===!1)throw Error((null==t?void 0:t.error)||"Upload failed");s("success"),l(null),a.reset(),u(null)}catch(e){console.error(e),s("error"),u(e.message||"Upload failed. Please try again.")}}return(0,a.jsxs)("form",{onSubmit:o,className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-xl bg-neutral-900 px-4 py-4 text-sm text-neutral-50",children:(0,a.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-neutral-300 text-xs",children:"Upload your CAD file"}),(0,a.jsx)("input",{type:"file",onChange:e=>{var t,a;l(null!=(a=null==(t=e.target.files)?void 0:t[0])?a:null),s("idle"),u(null)},className:"text-xs text-neutral-200"})]})}),(0,a.jsx)("input",{name:"contact_name",placeholder:"Your name",className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm text-neutral-200"}),(0,a.jsx)("input",{name:"contact_email",type:"email",placeholder:"Your email",className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm text-neutral-200"}),(0,a.jsx)("input",{name:"company",placeholder:"Company",className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm text-neutral-200"}),(0,a.jsx)("textarea",{name:"notes",placeholder:"Notes (optional)",className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm text-neutral-200",rows:3}),(0,a.jsx)("button",{type:"submit",disabled:"uploading"===t||!e,className:"mt-3 inline-flex items-center justify-center rounded-full bg-emerald-500 px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-emerald-400 disabled:opacity-50",children:"uploading"===t?"Uploadingâ€¦":"Upload file"}),"success"===t&&(0,a.jsx)("p",{className:"mt-2 text-xs text-emerald-400",children:"Upload complete. Thanks for sending this in."}),"error"===t&&r&&(0,a.jsxs)("p",{className:"mt-2 text-xs text-red-400",children:["Error: ",r]})]})}},7254:(e,l,t)=>{Promise.resolve().then(t.bind(t,5225))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);