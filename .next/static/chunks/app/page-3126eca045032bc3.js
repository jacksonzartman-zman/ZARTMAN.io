(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5225:(e,l,t)=>{"use strict";t.d(l,{default:()=>n});var a=t(5155),r=t(2115);function n(){let[e,l]=(0,r.useState)(null),[t,n]=(0,r.useState)("idle"),[s,d]=(0,r.useState)(null);async function o(t){if(t.preventDefault(),!e){d("Choose a file first."),n("error");return}if(e.size>0x1900000){d("Max size is ".concat(25,"MB.")),n("error");return}n("uploading"),d(null);try{let t=new FormData;t.append("file",e);let a=await fetch("/api/upload",{method:"POST",body:t}),r=null;try{r=await a.json()}catch(e){}if(!a.ok||(null==r?void 0:r.success)===!1)throw Error((null==r?void 0:r.error)||"Upload failed");n("success"),d(null),l(null)}catch(e){n("error"),d((null==e?void 0:e.message)||"Upload failed")}}return(0,a.jsxs)("div",{className:"mx-auto w-full max-w-xl rounded-xl border border-neutral-800 bg-neutral-950 p-6 shadow-xl",children:[(0,a.jsx)("h2",{className:"mb-2 text-lg font-semibold text-neutral-100",children:"Upload your CAD"}),(0,a.jsx)("p",{className:"mb-4 text-sm text-neutral-400",children:"STEP, IGES, STL, SolidWorks, zipped assemblies — max 25MB for now."}),(0,a.jsxs)("form",{onSubmit:o,encType:"multipart/form-data",className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Your name"}),(0,a.jsx)("input",{type:"text",name:"contact_name",placeholder:"Jane Doe",className:"mt-1 w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Work email"}),(0,a.jsx)("input",{type:"email",name:"contact_email",placeholder:"jane@allstarautoparts.com",className:"mt-1 w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Company"}),(0,a.jsx)("input",{type:"text",name:"company",placeholder:"All Star Auto Parts",className:"mt-1 w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Anything we should know?"}),(0,a.jsx)("textarea",{name:"notes",rows:3,placeholder:"EX: Need PP material, 10-day lead time, using existing tool...",className:"mt-1 w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"CAD file"}),(0,a.jsx)("input",{type:"file",name:"file",required:!0,className:"mt-2 w-full text-neutral-300 file:mr-4 file:rounded-md file:border-0 file:bg-neutral-800 file:px-4 file:py-2 file:text-sm file:text-neutral-200 hover:file:bg-neutral-700",onChange:e=>{var t,a;l(null!=(a=null==(t=e.target.files)?void 0:t[0])?a:null),n("idle"),d(null)}})]}),(0,a.jsx)("button",{type:"submit",disabled:"uploading"===t||!e,className:"w-full rounded-md bg-emerald-600 px-4 py-2 text-center text-sm font-semibold text-white hover:bg-emerald-500",children:"uploading"===t?"Uploading…":"Upload file"})]})]})}},7254:(e,l,t)=>{Promise.resolve().then(t.bind(t,5225))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);