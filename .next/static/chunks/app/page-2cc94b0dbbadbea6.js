(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5225:(e,l,t)=>{"use strict";t.d(l,{default:()=>r});var s=t(5155),a=t(2115);function r(){let[e,l]=(0,a.useState)(null),[t,r]=(0,a.useState)("idle"),[n,i]=(0,a.useState)(null);async function o(t){if(t.preventDefault(),!e){i("Choose a file first."),r("error");return}if(e.size>0x1900000){i("Max size is ".concat(25,"MB.")),r("error");return}r("uploading"),i(null);try{let t=new FormData;t.append("file",e);let s=await fetch("/api/upload",{method:"POST",body:t}),a=null;try{a=await s.json()}catch(e){}if(!s.ok||(null==a?void 0:a.success)===!1)throw Error((null==a?void 0:a.error)||"Upload failed");r("success"),i(null),l(null)}catch(e){r("error"),i((null==e?void 0:e.message)||"Upload failed")}}return(0,s.jsx)("form",{onSubmit:o,className:"space-y-3",children:(0,s.jsxs)("div",{className:"rounded-xl bg-neutral-900 px-4 py-4 text-sm text-neutral-50",children:[(0,s.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"text-xs font-medium text-neutral-300",children:"Upload your CAD file"}),(0,s.jsx)("input",{type:"file",onChange:e=>{var t,s;l(null!=(s=null==(t=e.target.files)?void 0:t[0])?s:null),r("idle"),i(null)},className:"text-xs text-neutral-200"})]}),(0,s.jsx)("button",{type:"submit",disabled:"uploading"===t||!e,className:"mt-3 inline-flex items-center justify-center rounded-full bg-emerald-500 px-4 py-1.5 text-xs font-semibold text-white shadow-sm transition hover:bg-emerald-600 disabled:opacity-60",children:"uploading"===t?"Uploadingâ€¦":"Upload file"}),"success"===t&&(0,s.jsx)("p",{className:"mt-2 text-xs text-emerald-400",children:"Upload complete. Thanks for sending a part."}),"error"===t&&n&&(0,s.jsxs)("p",{className:"mt-2 text-xs text-red-400",children:["Error: ",n]})]})})}},7254:(e,l,t)=>{Promise.resolve().then(t.bind(t,5225))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);