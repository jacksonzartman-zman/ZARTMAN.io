(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{63:(e,t,r)=>{"use strict";var n=r(7260);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let n=r(1209),a=r(5153),s=r(7197)},2233:(e,t,r)=>{"use strict";r.d(t,{PortalLoginPanel:()=>c});var n=r(5155),a=r(2115),s=r(63),l=r(926);let i=(0,l.createServerReference)("408cd5d58e8afbb5f4a90132b7d7a415a91d83f0e6",l.callServer,void 0,l.findSourceMapURL,"requestMagicLinkForEmail"),o={customer:{title:"Sign in to the customer portal",description:"Use the email you shared with the Zartman team to receive your magic link.",accent:"text-emerald-300",cta:"Email me a link"},supplier:{title:"Sign in to your supplier workspace",description:"We’ll email a one-time magic link to the address tied to your onboarding profile. Use that same inbox to access RFQs.",accent:"text-blue-300",cta:"Send magic link"}};function c(e){let{role:t,fallbackRedirect:r}=e,[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)("idle"),[m,h]=(0,a.useState)(null),[p,x]=(0,a.useState)(null),f=(0,s.usePathname)(),b="string"==typeof f&&f.startsWith("/".concat(t))?f:r;async function g(e){e.preventDefault();let r=l.trim().toLowerCase();if(!r||!r.includes("@")){h("supplier"===t?"Enter a business email that matches your onboarding profile.":"Enter a valid work email."),d("error");return}try{var n,a;d("sending"),h(null);let e=await i({role:t,email:r,nextPath:b});if(!e.success){d("error"),h(null!=(n=e.error)?n:"supplier"===t?"We couldn’t send the link. Check your connection and try again.":"We couldn’t send the link. Try again in a few seconds.");return}d("sent"),x(null!=(a=e.normalizedEmail)?a:r)}catch(e){console.error("Portal login: failed to request magic link",e),h("supplier"===t?"We couldn’t send the link. Check your connection and try again.":"We couldn’t send the link. Try again in a few seconds."),d("error")}}let k=o[t];return(0,n.jsxs)("section",{className:"mx-auto max-w-lg rounded-2xl border border-slate-900 bg-slate-950/50 p-6",children:[(0,n.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] ".concat(k.accent),children:[t," portal"]}),(0,n.jsx)("h2",{className:"mt-2 text-xl font-semibold text-white",children:k.title}),(0,n.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:k.description}),(0,n.jsxs)("form",{onSubmit:g,className:"mt-5 space-y-3",children:[(0,n.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Work email"}),(0,n.jsx)("input",{type:"email",value:l,onChange:e=>c(e.target.value),className:"w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-white focus:outline-none",placeholder:"you@company.com",required:!0}),(0,n.jsx)("button",{type:"submit",disabled:"sending"===u,className:"w-full rounded-full border border-slate-800 bg-white/90 px-4 py-2 text-sm font-semibold text-slate-950 transition hover:bg-white disabled:opacity-60",children:"sending"===u?"Sending...":k.cta}),"sent"===u?(0,n.jsx)("p",{className:"text-sm text-emerald-200",children:"supplier"===t?(0,n.jsxs)(n.Fragment,{children:["Link sent to"," ",(0,n.jsx)("span",{className:"font-mono text-white",children:null!=p?p:l.trim().toLowerCase()})," ","– check your inbox."]}):"Check your inbox for the magic link."}):null,m?(0,n.jsx)("p",{className:"text-sm text-red-300",role:"alert",children:m}):null,(0,n.jsxs)("p",{className:"text-xs text-slate-500",children:["You’ll land back on ",(0,n.jsx)("span",{className:"font-mono text-slate-300",children:b})," after clicking the link."]})]})]})}},3296:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.bind(r,2233))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=3296)),_N_E=e.O()}]);