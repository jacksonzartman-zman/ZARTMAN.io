(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{926:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let r=l(1209),a=l(5153),s=l(7197)},7275:(e,t,l)=>{"use strict";l.d(t,{m:()=>s,n4:()=>i,tJ:()=>n});let r="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:opacity-60",a={md:"px-5 py-2 text-sm",sm:"px-4 py-1.5 text-xs"},s=a,i="".concat(r," ").concat(a.md," bg-emerald-400 text-slate-950 shadow-lift-sm hover:bg-emerald-300 focus-visible:outline-emerald-300"),n="".concat(r," ").concat(a.md," border border-emerald-400/60 bg-transparent text-emerald-200 hover:bg-emerald-400/10 focus-visible:outline-emerald-400")},9503:(e,t,l)=>{"use strict";l.d(t,{SupplierOnboardingForm:()=>u});var r=l(5155),a=l(2115),s=l(7650),i=l(7275),n=l(926);let o=(0,n.createServerReference)("60d59856b23d6917512e492505d30c4850a1110bf0",n.callServer,void 0,n.findSourceMapURL,"submitSupplierOnboardingAction"),d={ok:!1,profileSaved:!1,partial:!1,error:null,fieldErrors:{}},c=["CNC","Sheet metal","MJF","FDM","SLA","Injection molding"];function u(e){var t,l,i,n;let{defaultEmail:u,defaultCompany:j,defaultPhone:y,defaultWebsite:N,defaultCountry:S,supplierId:w}=e,[k,P]=(0,a.useState)([b()]),[C,_]=(0,a.useState)([f()]),[z,I]=(0,s.useFormState)(o,d),M=z!==d&&(null==z?void 0:z.ok)===!1,U=(null==z?void 0:z.partial)===!0,O=(0,a.useMemo)(()=>JSON.stringify(k.map(e=>{var t;return{process:e.process,materials:v(e.materialsInput),certifications:v(e.certificationsInput),maxPartSize:{x:g(e.maxPartSize.x),y:g(e.maxPartSize.y),z:g(e.maxPartSize.z),units:(null==(t=e.maxPartSize.units)?void 0:t.trim())||void 0}}})),[k]);return(0,r.jsxs)("form",{action:I,className:"space-y-6",children:[(0,r.jsx)("input",{type:"hidden",name:"capabilities_payload",value:O}),(0,r.jsx)("input",{type:"hidden",name:"document_count",value:C.length}),(0,r.jsx)("input",{type:"hidden",name:"supplier_id",value:null!=w?w:""}),(0,r.jsx)(m,{title:"Company profile",description:"Basic info so customers know who they’re working with.",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(x,{label:"Company name",name:"company_name",required:!0,placeholder:"Lambda Precision",error:null==(t=z.fieldErrors)?void 0:t.company_name,defaultValue:null!=j?j:void 0}),(0,r.jsx)(x,{label:"Primary email",name:"primary_email",type:"email",placeholder:"ops@lambda-precision.com",defaultValue:null!=u?u:void 0,required:!0,error:null==(l=z.fieldErrors)?void 0:l.primary_email}),(0,r.jsx)(x,{label:"Phone",name:"phone",placeholder:"+1 (555) 123-9876",defaultValue:null!=y?y:void 0}),(0,r.jsx)(x,{label:"Website",name:"website",placeholder:"https://lambda-precision.com",defaultValue:null!=N?N:void 0}),(0,r.jsx)(x,{label:"Country",name:"country",placeholder:"United States",defaultValue:null!=S?S:void 0})]})}),(0,r.jsxs)(m,{title:"Manufacturing capabilities",description:"List each process you support along with go-to materials and certifications.",children:[(0,r.jsx)("div",{className:"space-y-4",children:k.map((e,t)=>{var l;return(0,r.jsxs)("div",{className:"rounded-2xl border border-slate-800/80 bg-slate-950/40 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-white",children:["Capability ",t+1]}),k.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void P(e=>1===e.length?e:e.filter(e=>e.id!==t))},className:"text-xs text-slate-400 hover:text-red-300",children:"Remove"})]}),(0,r.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Process"}),(0,r.jsx)("input",{list:"process-options-".concat(e.id),value:e.process,onChange:t=>h(e.id,P,{process:t.target.value}),className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"CNC",required:0===t}),(0,r.jsx)("datalist",{id:"process-options-".concat(e.id),children:c.map(e=>(0,r.jsx)("option",{value:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Certifications"}),(0,r.jsx)("input",{value:e.certificationsInput,onChange:t=>h(e.id,P,{certificationsInput:t.target.value}),className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"ISO 9001, AS9100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Preferred materials"}),(0,r.jsx)("input",{value:e.materialsInput,onChange:t=>h(e.id,P,{materialsInput:t.target.value}),className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"6061 Aluminum, ABS, PA12"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[["x","y","z"].map(t=>{var l;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[t.toUpperCase()," (in)"]}),(0,r.jsx)("input",{value:null!=(l=e.maxPartSize[t])?l:"",onChange:l=>h(e.id,P,{maxPartSize:{...e.maxPartSize,[t]:l.target.value}}),inputMode:"decimal",className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-2 py-1 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"0"})]},t)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"Units"}),(0,r.jsx)("input",{value:null!=(l=e.maxPartSize.units)?l:"",onChange:t=>h(e.id,P,{maxPartSize:{...e.maxPartSize,units:t.target.value}}),className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-2 py-1 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"in / mm"})]})]})]})]},e.id)})}),(0,r.jsx)("button",{type:"button",onClick:()=>P(e=>[...e,b()]),className:"mt-3 rounded-full border border-slate-700 px-4 py-1.5 text-xs font-semibold text-blue-300 transition hover:border-blue-400 hover:text-blue-200",children:"+ Add capability"})]}),(0,r.jsxs)(m,{title:"Compliance documents",description:"Upload certs or insurance docs. Customers see the doc type and a download link.",children:[(null==(i=z.fieldErrors)?void 0:i.documents)?(0,r.jsx)("p",{className:"text-sm text-red-300",children:z.fieldErrors.documents}):null,(0,r.jsx)("div",{className:"space-y-4",children:C.map((e,t)=>(0,r.jsxs)("div",{className:"rounded-2xl border border-slate-800/80 bg-slate-950/40 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-white",children:["Document ",t+1]}),C.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void _(e=>1===e.length?e:e.filter(e=>e.id!==t))},className:"text-xs text-slate-400 hover:text-red-300",children:"Remove"})]}),(0,r.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-[minmax(0,0.4fr)_minmax(0,0.6fr)]",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Doc type"}),(0,r.jsx)("input",{name:"document_".concat(t,"_type"),value:e.docType,onChange:t=>{var l,r,a;return l=e.id,r=_,a=t.target.value,void r(e=>e.map(e=>e.id===l?{...e,docType:a}:e))},className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"ISO 9001 cert"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"File"}),(0,r.jsx)("input",{type:"file",name:"document_".concat(t,"_file"),accept:".pdf,.png,.jpg,.jpeg,.webp",className:"mt-1 block w-full text-sm text-slate-200 file:mr-4 file:rounded-full file:border-0 file:bg-blue-500/20 file:px-4 file:py-2 file:text-xs file:font-semibold file:text-blue-100 hover:file:bg-blue-500/30"})]})]})]},e.id))}),C.length<5&&(0,r.jsx)("button",{type:"button",onClick:()=>_(e=>[...e,f()]),className:"mt-3 rounded-full border border-slate-700 px-4 py-1.5 text-xs font-semibold text-blue-300 transition hover:border-blue-400 hover:text-blue-200",children:"+ Add document"})]}),M&&!U?(0,r.jsx)("p",{className:"mt-4 text-sm text-red-400",role:"alert",children:null!=(n=null==z?void 0:z.error)?n:"We couldn’t save your profile. Please try again."}):null,U?(0,r.jsx)("p",{className:"mt-4 text-sm text-amber-300",role:"status",children:"Profile saved. Some advanced details couldn’t be stored yet."}):null,(0,r.jsx)(p,{label:"Submit onboarding"})]})}function m(e){let{title:t,description:l,children:a}=e;return(0,r.jsxs)("section",{className:"rounded-2xl border border-slate-900 bg-slate-950/60 p-5 shadow-sm shadow-slate-950/20",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-white",children:t}),l?(0,r.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:l}):null,(0,r.jsx)("div",{className:"mt-4 space-y-4",children:a})]})}function x(e){let{label:t,name:l,type:s="text",placeholder:i,defaultValue:n,required:o,error:d}=e,c=(0,a.useId)();return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:c,className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:t}),(0,r.jsx)("input",{id:c,name:l,type:s,defaultValue:n,placeholder:i,required:o,className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-blue-400 focus:outline-none"}),d?(0,r.jsx)("p",{className:"mt-1 text-xs text-red-300",children:d}):null]})}function p(e){let{label:t}=e,{pending:l}=(0,s.useFormStatus)();return(0,r.jsx)("button",{type:"submit",disabled:l,className:"".concat(i.n4," ").concat(i.m.md),children:l?"Saving...":t})}function b(){var e,t,l;return{id:null!=(l=null==(e=(t=crypto).randomUUID)?void 0:e.call(t))?l:Math.random().toString(36).slice(2),process:"",materialsInput:"",certificationsInput:"",maxPartSize:{}}}function f(){var e,t,l;return{id:null!=(l=null==(e=(t=crypto).randomUUID)?void 0:e.call(t))?l:Math.random().toString(36).slice(2),docType:""}}function h(e,t,l){t(t=>t.map(t=>t.id===e?{...t,...l,maxPartSize:{...t.maxPartSize,...l.maxPartSize}}:t))}function v(e){return e.split(",").map(e=>e.trim()).filter(e=>e.length>0)}function g(e){if(!e)return;let t=Number(e);return Number.isFinite(t)?t:void 0}},9969:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,2619,23)),Promise.resolve().then(l.bind(l,9503))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9969)),_N_E=e.O()}]);