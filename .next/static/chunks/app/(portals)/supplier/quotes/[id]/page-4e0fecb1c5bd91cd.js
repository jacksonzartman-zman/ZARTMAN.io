(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{5323:(e,t,s)=>{Promise.resolve().then(s.bind(s,6293)),Promise.resolve().then(s.bind(s,6556)),Promise.resolve().then(s.bind(s,8567)),Promise.resolve().then(s.bind(s,9867))},6293:(e,t,s)=>{"use strict";s.d(t,{SupplierBidForm:()=>c});var l=s(5155),r=s(2115),a=s(7650),d=s(7275),n=s(926);let i=(0,n.createServerReference)("6042d03933241c2b9690d0d2305cdcc88bb12bd962",n.callServer,void 0,n.findSourceMapURL,"submitSupplierBidAction"),u={success:!1,error:null,status:null};function c(e){var t,s;let{quoteId:d,supplierEmail:n,existingBid:c,isLocked:b}=e,x=(0,r.useRef)(null),[f,h]=(0,a.useFormState)(i,u);(0,r.useEffect)(()=>{if(f.success&&!b){var e;null==(e=x.current)||e.reset()}},[f.success,b]);let v=c?"Update bid":"Submit bid";return(0,l.jsxs)("form",{ref:x,action:h,className:"space-y-4",children:[(0,l.jsx)("input",{type:"hidden",name:"quote_id",value:d}),(0,l.jsx)("input",{type:"hidden",name:"supplier_email",value:n}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsx)(o,{label:"Unit price",name:"unit_price",type:"number",step:"0.01",placeholder:"15000",defaultValue:"number"==typeof(null==c?void 0:c.unit_price)?c.unit_price.toString():"string"==typeof(null==c?void 0:c.unit_price)?c.unit_price:void 0,disabled:b,prefix:"$"}),(0,l.jsx)(o,{label:"Currency",name:"currency",placeholder:"USD",defaultValue:null!=(t=null==c?void 0:c.currency)?t:"USD",disabled:b}),(0,l.jsx)(o,{label:"Lead time (days)",name:"lead_time_days",type:"number",placeholder:"14",defaultValue:"number"==typeof(null==c?void 0:c.lead_time_days)?c.lead_time_days.toString():void 0,disabled:b})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Notes"}),(0,l.jsx)("textarea",{name:"notes",defaultValue:null!=(s=null==c?void 0:c.notes)?s:"",rows:4,disabled:b,className:"mt-1 w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-blue-400 focus:outline-none disabled:opacity-60",placeholder:"Add scope details, payment terms, or anything the customer should know."})]}),f.error?(0,l.jsx)("p",{className:"text-sm text-red-300",role:"alert",children:f.error}):null,f.success&&!f.error?(0,l.jsx)("p",{className:"text-sm text-emerald-300",role:"status",children:"Bid saved — we’ll notify the customer."}):null,(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,l.jsx)(m,{label:v,disabled:b}),(null==c?void 0:c.status)?(0,l.jsx)(p,{status:c.status}):null]})]})}function o(e){let{label:t,name:s,type:r="text",placeholder:a,defaultValue:d,disabled:n,step:i,prefix:u}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:t}),(0,l.jsxs)("div",{className:"mt-1 flex items-center rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 focus-within:border-blue-400",children:[u?(0,l.jsx)("span",{className:"mr-1 text-slate-500",children:u}):null,(0,l.jsx)("input",{type:r,name:s,placeholder:a,defaultValue:d,disabled:n,step:i,className:"w-full bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"})]})]})}function m(e){let{label:t,disabled:s}=e,{pending:r}=(0,a.useFormStatus)();return(0,l.jsx)("button",{type:"submit",disabled:r||s,className:"".concat(d.n4," ").concat(d.m.md," ").concat(s?"opacity-60":""),children:r?"Saving...":t})}function p(e){var t;let{status:s}=e;return(0,l.jsxs)("span",{className:"inline-flex rounded-full border px-3 py-1 text-xs font-semibold ".concat(null!=(t=({accepted:"bg-emerald-500/20 text-emerald-200 border-emerald-500/30",pending:"bg-blue-500/10 text-blue-200 border-blue-500/30",declined:"bg-red-500/10 text-red-200 border-red-500/30",withdrawn:"bg-slate-500/10 text-slate-200 border-slate-500/30"})[s])?t:"bg-slate-500/10 text-slate-200 border-slate-500/30"),children:["Status: ",s]})}},6556:(e,t,s)=>{"use strict";s.d(t,{SupplierQuoteMessageComposer:()=>c});var l=s(5155),r=s(2115),a=s(7650),d=s(926);let n=(0,d.createServerReference)("6097863800f61f79fa79054082b5d0dda377f4b6e2",d.callServer,void 0,d.findSourceMapURL,"postSupplierQuoteMessageAction");var i=s(7275);let u={success:!1,error:null};function c(e){let{quoteId:t,supplierEmail:s,disabled:d=!1}=e,i=(0,r.useRef)(null),c=(0,r.useRef)(null),[m,p]=(0,a.useFormState)(n,u);return(0,r.useEffect)(()=>{var e;m.success&&(null==(e=i.current)||e.reset(),c.current&&(c.current.value=""))},[m.success,m.messageId]),(0,l.jsxs)("form",{ref:i,action:p,className:"space-y-3",children:[(0,l.jsx)("input",{type:"hidden",name:"quote_id",value:t}),(0,l.jsx)("input",{type:"hidden",name:"identity_email",value:s}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{htmlFor:"supplier-quote-message-body",className:"text-sm font-medium text-slate-200",children:"Message"}),(0,l.jsx)("textarea",{id:"supplier-quote-message-body",name:"body",ref:c,rows:4,maxLength:2e3,disabled:d,className:"w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-blue-400 focus:outline-none disabled:opacity-60",placeholder:"Share build progress, questions, or risks with the Zartman team..."})]}),m.error&&(0,l.jsx)("p",{className:"text-sm text-red-400",role:"alert","aria-live":"polite",children:m.error}),(0,l.jsx)(o,{disabled:d})]})}function o(e){let{disabled:t}=e,{pending:s}=(0,a.useFormStatus)();return(0,l.jsx)("button",{type:"submit",disabled:s||t,className:"".concat(i.n4," ").concat(i.m.md," w-full sm:w-auto"),children:s?"Sending...":"Send update"})}}},e=>{e.O(0,[264,441,255,358],()=>e(e.s=5323)),_N_E=e.O()}]);