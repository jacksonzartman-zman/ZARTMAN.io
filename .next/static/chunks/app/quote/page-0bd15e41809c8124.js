(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{416:(e,t,r)=>{"use strict";r.d(t,{default:()=>R});var a=r(5155),s=r(2115),i=r(7650),l=r(2821);let n=["stl","step","stp","iges","igs","sldprt","sldasm","pdf","zip"],o=new Set(n),d=n.map(e=>".".concat(e)).join(","),c="STEP, IGES, STL, SolidWorks (SLDPRT / SLDASM), PDF, or zipped assemblies",m=e=>Number((e/1048576).toFixed(1));var u=r(7275),p=r(926);let x=(0,p.createServerReference)("60bddbb285c2e45a3cc3103cec61b0ca987e09a790",p.callServer,void 0,p.findSourceMapURL,"submitQuoteIntakeAction"),f={ok:!1,error:""},b="Unexpected error while submitting your RFQ. Please retry.",h=["CNC machining","3D printing","Sheet metal","Injection molding","Not sure yet"],g=["Not applicable / None","ITAR","EAR","EU Dual Use","Other / Unsure"],N=["Need a quote for a new project","Comparing suppliers","Existing production, looking for backup","Just exploring capabilities"],v=new Set(["file","firstName","lastName","email","manufacturingProcess","quantity","shippingPostalCode","exportRestriction","itarAcknowledged","termsAccepted"]),y={file:null,fileName:null,firstName:"",lastName:"",email:"",company:"",phone:"",manufacturingProcess:"",quantity:"",shippingPostalCode:"",exportRestriction:"",rfqReason:"",notes:"",itarAcknowledged:!1,termsAccepted:!1},j=["firstName","lastName","email"],k="".concat(m(0x1900000)," MB"),w="Unsupported file type. Please upload ".concat(c,"."),A=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,P=e=>!Number.isFinite(e)||e<=0?"0 MB":"".concat(m(e)," MB"),C=e=>(e=>{let t=e.toLowerCase().split("."),r=t.length>1?t.pop():"";return o.has(r)})(e.name)?e.size>0x1900000?"File is ".concat(P(e.size),". Limit is ").concat(k,"."):0===e.size?"File is empty. Please choose a different CAD file.":null:w;function R(e){var t;let{prefillContact:r}=e,n=(0,s.useMemo)(()=>{var e,t,a;return{...y,firstName:null!=(e=null==r?void 0:r.firstName)?e:"",lastName:null!=(t=null==r?void 0:r.lastName)?t:"",email:null!=(a=null==r?void 0:r.email)?a:""}},[r]),[o,m]=(0,s.useState)(()=>({...n})),[u,p]=(0,s.useState)({}),[w,R]=(0,s.useState)(!1),[q,F]=(0,s.useState)(null),[D,E]=(0,s.useState)(null),[I,M]=(0,s.useState)(!1),[L,O]=(0,s.useState)(!1),T=(0,s.useRef)(null),[U,z]=(0,i.useFormState)(x,f),_=(0,s.useMemo)(()=>U===f?null:function(e){var t,r,a,s;if(!e||"object"!=typeof e||"boolean"!=typeof e.ok)return{ok:!1,error:b,fieldErrors:{}};if(e.ok){return{ok:!0,quoteId:null!=(t=e.quoteId)?t:null,uploadId:null!=(r=e.uploadId)?r:"",message:null!=(a=e.message)?a:"RFQ received."}}return{ok:!1,error:e.error||b,fieldErrors:(s=e.fieldErrors)?Object.entries(s).reduce((e,t)=>{let[r,a]=t;return v.has(r)&&"string"==typeof a&&a.length>0&&(e[r]=a),e},{}):{}}}(U),[U]),Q=!!r,B=Q?new Set(["firstName","lastName","email"]):null,J=(0,s.useCallback)(()=>{m(()=>({...n})),T.current&&(T.current.value="")},[n]);(0,s.useEffect)(()=>{r&&m(e=>{let t={...e};return j.forEach(e=>{t[e]=n[e]}),t})},[n,r]);let G=(0,s.useCallback)(e=>{let t=T.current;if(t){if(!e){t.value="";return}if("undefined"!=typeof DataTransfer)try{let r=new DataTransfer;r.items.add(e),t.files=r.files}catch(e){console.warn("[quote intake] unable to sync file input",e)}}},[]);(0,s.useEffect)(()=>{if("undefined"!=typeof navigator){var e;M(!!(e=navigator.userAgent)&&(!!/(ipad|iphone|ipod)/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)))}},[]),(0,s.useEffect)(()=>{L&&_&&(_.ok?(F(null),E(_.message||"RFQ received."),p({}),J()):(F(_.error),E(null),p(_.fieldErrors)),O(!1))},[_,L,J]);let V=!!(o.file&&o.firstName.trim()&&o.lastName.trim()&&o.email.trim()&&o.manufacturingProcess&&o.quantity.trim()&&o.exportRestriction&&o.itarAcknowledged&&o.termsAccepted),W=e=>{p(t=>{if(!t[e])return t;let r={...t};return delete r[e],r})},Y=e=>t=>{if(null==B?void 0:B.has(e))return;let r=t.target.value;m(t=>({...t,[e]:r})),e in u&&W(e),E(null)},Z=e=>t=>{let r=t.target.checked;m(t=>({...t,[e]:r})),W(e),E(null)};return(0,a.jsx)("section",{"aria-label":"Upload CAD file",className:"relative flex flex-col rounded-3xl border border-border bg-surface p-6 sm:p-8",children:(0,a.jsxs)("form",{onSubmit:e=>{try{F(null),E(null);let t=(e=>{let t={},r=e.firstName.trim(),a=e.lastName.trim(),s=e.email.trim(),i=e.quantity.trim(),l=e.shippingPostalCode;return e.file||(t.file="Attach your CAD file before submitting."),r||(t.firstName="First name is required."),a||(t.lastName="Last name is required."),s?A.test(s)||(t.email="Enter a valid email address."):t.email="Business email is required.",e.manufacturingProcess||(t.manufacturingProcess="Select a manufacturing process."),i||(t.quantity="Share the quantity or volumes you need."),l&&!l.trim()&&(t.shippingPostalCode="Enter a postal code or leave this blank."),e.exportRestriction||(t.exportRestriction="Select the export restriction."),e.itarAcknowledged||(t.itarAcknowledged="Please confirm these parts are not subject to ITAR."),e.termsAccepted||(t.termsAccepted="Please accept the terms before submitting."),t})(o);if(Object.keys(t).length>0){e.preventDefault(),p(t),F("Please fix the highlighted fields before submitting.");return}if(!o.file){e.preventDefault(),p(e=>({...e,file:"Attach your CAD file before submitting."})),F("Attach your CAD file before submitting.");return}let r=C(o.file);if(r){e.preventDefault(),p(e=>({...e,file:r})),F(r);return}p({}),O(!0)}catch(t){console.error("[quote intake] submit handler failed",t),e.preventDefault(),F(b),E(null),O(!1)}},action:z,className:"flex flex-col",encType:"multipart/form-data",noValidate:!0,children:[D&&(0,a.jsx)("div",{className:"mb-4 rounded-2xl border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:D}),q&&(0,a.jsx)("div",{className:"mb-4 rounded-2xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-100",children:q}),(0,a.jsxs)("div",{className:(0,l.A)("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-6 py-10 text-center text-sm sm:px-8 sm:py-12",w?"border-accent/80 bg-accent/5":"border-border/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),R(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),R(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),R(!1);try{var t,r;let a=null==(r=e.dataTransfer)||null==(t=r.files)?void 0:t[0];if(!a)return;let s=C(a);if(s){F(s),p(e=>({...e,file:s})),E(null),m(e=>({...e,file:null,fileName:null})),G(null);return}W("file"),F(null),E(null),m(e=>({...e,file:a,fileName:a.name})),G(a)}catch(e){console.error("[quote intake] client drop failed",e),F(b),E(null)}},children:[(0,a.jsxs)("p",{className:"text-xs text-muted",children:[c,". Max ",k,"."]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-2",children:[(0,a.jsx)("label",{htmlFor:"file",className:"inline-flex cursor-pointer items-center justify-center rounded-full border border-border px-4 py-2 text-xs font-medium text-foreground transition hover:border-accent hover:text-accent",children:"Browse from device"}),(0,a.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,a.jsxs)("p",{className:"mt-1 text-[11px] text-muted",children:["Selected:"," ",o.fileName?(0,a.jsxs)("span",{className:"text-foreground",children:[o.fileName,(null==(t=o.file)?void 0:t.size)?" \xb7 ".concat(P(o.file.size)):null]}):"No file selected yet"]})]}),(0,a.jsx)("input",{id:"file",name:"file",type:"file",className:"hidden",onChange:e=>{try{var t,r;let a=null!=(r=null==(t=e.target.files)?void 0:t[0])?r:null;if(!a)return;let s=C(a);if(s){F(s),p(e=>({...e,file:s})),E(null),m(e=>({...e,file:null,fileName:null})),e.target.value="";return}W("file"),F(null),E(null),m(e=>({...e,file:a,fileName:a.name}))}catch(t){console.error("[quote intake] file picker failed",t),F(b),E(null),e.target.value=""}},accept:I?void 0:d,ref:T}),u.file&&(0,a.jsx)("p",{className:"mt-3 text-xs text-red-400",role:"alert",children:u.file})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-5",children:[r&&(0,a.jsxs)("div",{className:"rounded-2xl border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-100",children:["You're submitting as"," ",(0,a.jsx)("span",{className:"font-semibold text-emerald-50",children:r.displayName})," ","(",r.email,"). Contact details come from your workspace profile."]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"firstName",className:"text-xs font-medium text-muted tracking-wide",children:["First name",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",value:o.firstName,onChange:Y("firstName"),className:(0,l.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",u.firstName?"border-red-500":"border-border",Q&&"cursor-not-allowed bg-black/30 text-muted"),"aria-invalid":!!u.firstName,"aria-describedby":u.firstName?"firstName-error":void 0,readOnly:Q,"aria-readonly":Q}),u.firstName&&(0,a.jsx)("p",{id:"firstName-error",className:"text-xs text-red-400",children:u.firstName})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"lastName",className:"text-xs font-medium text-muted tracking-wide",children:["Last name",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",value:o.lastName,onChange:Y("lastName"),className:(0,l.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",u.lastName?"border-red-500":"border-border",Q&&"cursor-not-allowed bg-black/30 text-muted"),"aria-invalid":!!u.lastName,"aria-describedby":u.lastName?"lastName-error":void 0,readOnly:Q,"aria-readonly":Q}),u.lastName&&(0,a.jsx)("p",{id:"lastName-error",className:"text-xs text-red-400",children:u.lastName})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"text-xs font-medium text-muted tracking-wide",children:["Business email",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:o.email,onChange:Y("email"),className:(0,l.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",u.email?"border-red-500":"border-border",Q&&"cursor-not-allowed bg-black/30 text-muted"),"aria-invalid":!!u.email,"aria-describedby":u.email?"email-error":void 0,readOnly:Q,"aria-readonly":Q}),u.email&&(0,a.jsx)("p",{id:"email-error",className:"text-xs text-red-400",children:u.email})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"phone",className:"text-xs font-medium text-muted tracking-wide",children:"Phone (optional)"}),(0,a.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:o.phone,onChange:Y("phone"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent"})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"company",className:"text-xs font-medium text-muted tracking-wide",children:"Company"}),(0,a.jsx)("input",{id:"company",name:"company",type:"text",autoComplete:"organization",value:o.company,onChange:Y("company"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"manufacturingProcess",className:"text-xs font-medium text-muted tracking-wide",children:["Manufacturing process",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"manufacturingProcess",name:"manufacturingProcess",value:o.manufacturingProcess,onChange:Y("manufacturingProcess"),className:(0,l.A)("w-full rounded-md border bg-black/20 px-3 py-2 text-sm text-foreground outline-none transition",u.manufacturingProcess?"border-red-500":"border-border"),"aria-invalid":!!u.manufacturingProcess,"aria-describedby":u.manufacturingProcess?"manufacturingProcess-error":void 0,children:[(0,a.jsx)("option",{value:"",children:"Select a process"}),h.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),u.manufacturingProcess&&(0,a.jsx)("p",{id:"manufacturingProcess-error",className:"text-xs text-red-400",children:u.manufacturingProcess})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"exportRestriction",className:"text-xs font-medium text-muted tracking-wide",children:["Export restriction",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"exportRestriction",name:"exportRestriction",value:o.exportRestriction,onChange:Y("exportRestriction"),className:(0,l.A)("w-full rounded-md border bg-black/20 px-3 py-2 text-sm text-foreground outline-none transition",u.exportRestriction?"border-red-500":"border-border"),"aria-invalid":!!u.exportRestriction,"aria-describedby":u.exportRestriction?"exportRestriction-error":void 0,children:[(0,a.jsx)("option",{value:"",children:"Select an option"}),g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),u.exportRestriction&&(0,a.jsx)("p",{id:"exportRestriction-error",className:"text-xs text-red-400",children:u.exportRestriction})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"quantity",className:"text-xs font-medium text-muted tracking-wide",children:["Quantity / volumes",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"quantity",name:"quantity",type:"text",value:o.quantity,onChange:Y("quantity"),placeholder:'e.g. "10 proto, 500/yr production"',className:(0,l.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",u.quantity?"border-red-500":"border-border"),"aria-invalid":!!u.quantity,"aria-describedby":u.quantity?"quantity-error":void 0}),u.quantity&&(0,a.jsx)("p",{id:"quantity-error",className:"text-xs text-red-400",children:u.quantity})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"shippingPostalCode",className:"text-xs font-medium text-muted tracking-wide",children:"Shipping ZIP / Postal code"}),(0,a.jsx)("input",{id:"shippingPostalCode",name:"shippingPostalCode",type:"text",autoComplete:"postal-code",value:o.shippingPostalCode,onChange:Y("shippingPostalCode"),className:(0,l.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",u.shippingPostalCode?"border-red-500":"border-border"),"aria-invalid":!!u.shippingPostalCode,"aria-describedby":u.shippingPostalCode?"shippingPostalCode-error":void 0}),u.shippingPostalCode&&(0,a.jsx)("p",{id:"shippingPostalCode-error",className:"text-xs text-red-400",children:u.shippingPostalCode})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"rfqReason",className:"text-xs font-medium text-muted tracking-wide",children:"I'm submitting this RFQ because…"}),(0,a.jsxs)("select",{id:"rfqReason",name:"rfqReason",value:o.rfqReason,onChange:Y("rfqReason"),className:"w-full rounded-md border border-border bg-black/20 px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent",children:[(0,a.jsx)("option",{value:"",children:"Select a reason (optional)"}),N.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"text-xs font-medium text-muted tracking-wide",children:"Project details / notes"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",rows:4,value:o.notes,onChange:Y("notes"),placeholder:"Materials, tolerances, target ship date, special requirements...",className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-start gap-3 text-sm text-foreground",children:[(0,a.jsx)("input",{id:"itarAcknowledged",name:"itarAcknowledged",type:"checkbox",value:"true",checked:o.itarAcknowledged,onChange:Z("itarAcknowledged"),className:(0,l.A)("mt-1 h-4 w-4 rounded border bg-transparent",u.itarAcknowledged?"border-red-500":"border-line-subtle")}),(0,a.jsx)("span",{children:"I acknowledge these parts are not subject to ITAR restrictions."})]}),u.itarAcknowledged&&(0,a.jsx)("p",{className:"text-xs text-red-400",role:"alert",children:u.itarAcknowledged}),(0,a.jsxs)("label",{className:"flex items-start gap-3 text-sm text-foreground",children:[(0,a.jsx)("input",{id:"termsAccepted",name:"termsAccepted",type:"checkbox",value:"true",checked:o.termsAccepted,onChange:Z("termsAccepted"),className:(0,l.A)("mt-1 h-4 w-4 rounded border bg-transparent",u.termsAccepted?"border-red-500":"border-line-subtle")}),(0,a.jsxs)("span",{children:["I agree to the"," ",(0,a.jsx)("a",{href:"/terms",className:"text-emerald-300 underline-offset-2 hover:underline",children:"terms of service"})," ","and"," ",(0,a.jsx)("a",{href:"/privacy",className:"text-emerald-300 underline-offset-2 hover:underline",children:"privacy policy"}),"."]})]}),u.termsAccepted&&(0,a.jsx)("p",{className:"text-xs text-red-400",role:"alert",children:u.termsAccepted})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(S,{disabled:!V})})]})]})})}function S(e){let{disabled:t}=e,{pending:r}=(0,i.useFormStatus)();return(0,a.jsx)("button",{type:"submit",disabled:t||r,className:(0,l.A)(u.n4,"mt-2 w-full px-6 py-3",r&&"cursor-wait"),"aria-busy":r,children:r?"Submitting…":"Submit RFQ"})}},926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}});let a=r(1209),s=r(5153),i=r(7197)},2821:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=function(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}},7275:(e,t,r)=>{"use strict";r.d(t,{m:()=>i,n4:()=>l,tJ:()=>n});let a="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:opacity-60",s={md:"px-5 py-2 text-sm",sm:"px-4 py-1.5 text-xs"},i=s,l="".concat(a," ").concat(s.md," bg-emerald-400 text-slate-950 shadow-lift-sm hover:bg-emerald-300 focus-visible:outline-emerald-300"),n="".concat(a," ").concat(s.md," border border-emerald-400/60 bg-transparent text-emerald-200 hover:bg-emerald-400/10 focus-visible:outline-emerald-400")},7399:(e,t,r)=>{Promise.resolve().then(r.bind(r,416))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7399)),_N_E=e.O()}]);