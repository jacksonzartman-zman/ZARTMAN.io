(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}});let a=r(1209),s=r(5153),l=r(7197)},2280:(e,t,r)=>{"use strict";r.d(t,{default:()=>R});var a=r(5155),s=r(2115),l=r(7650),i=r(2821);let n=["stl","step","stp","iges","igs","sldprt","sldasm","pdf","zip"],o=new Set(n),d=n.map(e=>".".concat(e)).join(","),c="STEP, IGES, STL, SolidWorks (SLDPRT / SLDASM), PDF, or zipped assemblies",u=e=>Number((e/1048576).toFixed(1));var m=r(7275),p=r(926);let x=(0,p.createServerReference)("608600dd86889c180370b3227278dd521385ad8358",p.callServer,void 0,p.findSourceMapURL,"submitQuoteIntakeAction"),f={ok:!1,error:""},b="Unexpected error while submitting your RFQ. Please retry.",h=["CNC machining","3D printing","Sheet metal","Injection molding","Not sure yet"],g=["Not applicable / None","ITAR","EAR","EU Dual Use","Other / Unsure"],N=["Need a quote for a new project","Comparing suppliers","Existing production, looking for backup","Just exploring capabilities"],v=new Set(["file","firstName","lastName","email","manufacturingProcess","quantity","shippingPostalCode","exportRestriction","itarAcknowledged","termsAccepted"]),y={file:null,fileName:null,firstName:"",lastName:"",email:"",company:"",phone:"",manufacturingProcess:"",quantity:"",shippingPostalCode:"",exportRestriction:"",rfqReason:"",notes:"",itarAcknowledged:!1,termsAccepted:!1},j=["firstName","lastName","email"],k="".concat(u(0x1900000)," MB"),w="Unsupported file type. Please upload ".concat(c,"."),A=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,P=e=>!Number.isFinite(e)||e<=0?"0 MB":"".concat(u(e)," MB"),C=e=>(e=>{let t=e.toLowerCase().split("."),r=t.length>1?t.pop():"";return o.has(r)})(e.name)?e.size>0x1900000?"File is ".concat(P(e.size),". Limit is ").concat(k,"."):0===e.size?"File is empty. Please choose a different CAD file.":null:w;function R(e){var t,r,n,o;let{prefillContact:u}=e,m=(0,s.useMemo)(()=>{var e,t,r;return{...y,firstName:null!=(e=null==u?void 0:u.firstName)?e:"",lastName:null!=(t=null==u?void 0:u.lastName)?t:"",email:null!=(r=null==u?void 0:u.email)?r:""}},[u]),[p,w]=(0,s.useState)(()=>({...m})),[R,q]=(0,s.useState)({}),[F,D]=(0,s.useState)(!1),[E,I]=(0,s.useState)(null),[M,L]=(0,s.useState)(null),[O,T]=(0,s.useState)(!1),[U,z]=(0,s.useState)(!1),_=(0,s.useRef)(null),[Q,B]=(0,l.useFormState)(x,f),V=(0,s.useMemo)(()=>Q===f?null:function(e){var t,r,a,s;if(!e||"object"!=typeof e||"boolean"!=typeof e.ok)return{ok:!1,error:b,fieldErrors:{}};if(e.ok){return{ok:!0,quoteId:null!=(t=e.quoteId)?t:null,uploadId:null!=(r=e.uploadId)?r:"",message:null!=(a=e.message)?a:"RFQ received."}}return{ok:!1,error:e.error||b,fieldErrors:(s=e.fieldErrors)?Object.entries(s).reduce((e,t)=>{let[r,a]=t;return v.has(r)&&"string"==typeof a&&a.length>0&&(e[r]=a),e},{}):{}}}(Q),[Q]),J=!!u,G=J?new Set(["firstName","lastName","email"]):null,W=(0,s.useCallback)(()=>{w(()=>({...m})),_.current&&(_.current.value="")},[m]);(0,s.useEffect)(()=>{u&&w(e=>{let t={...e};return j.forEach(e=>{t[e]=m[e]}),t})},[m,u]);let Y=(0,s.useCallback)(e=>{let t=_.current;if(t){if(!e){t.value="";return}if("undefined"!=typeof DataTransfer)try{let r=new DataTransfer;r.items.add(e),t.files=r.files}catch(e){console.warn("[quote intake] unable to sync file input",e)}}},[]);(0,s.useEffect)(()=>{if("undefined"!=typeof navigator){var e;T(!!(e=navigator.userAgent)&&(!!/(ipad|iphone|ipod)/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)))}},[]),(0,s.useEffect)(()=>{U&&V&&(V.ok?(I(null),L(V.message||"RFQ received."),q({}),W()):(I(V.error),L(null),q(V.fieldErrors)),z(!1))},[V,U,W]);let Z=!!(p.file&&p.firstName.trim()&&p.lastName.trim()&&p.email.trim()&&p.manufacturingProcess&&p.quantity.trim()&&p.exportRestriction&&p.itarAcknowledged&&p.termsAccepted),$=e=>{q(t=>{if(!t[e])return t;let r={...t};return delete r[e],r})},H=e=>t=>{if(null==G?void 0:G.has(e))return;let r=t.target.value;w(t=>({...t,[e]:r})),e in R&&$(e),L(null)},K=e=>t=>{let r=t.target.checked;w(t=>({...t,[e]:r})),$(e),L(null)};return(0,a.jsx)("section",{"aria-label":"Upload CAD file",className:"relative flex flex-col rounded-3xl border border-border bg-surface p-6 sm:p-8",children:(0,a.jsxs)("form",{onSubmit:e=>{try{I(null),L(null);let t=(e=>{let t={},r=e.firstName.trim(),a=e.lastName.trim(),s=e.email.trim(),l=e.quantity.trim(),i=e.shippingPostalCode;return e.file||(t.file="Attach your CAD file before submitting."),r||(t.firstName="First name is required."),a||(t.lastName="Last name is required."),s?A.test(s)||(t.email="Enter a valid email address."):t.email="Business email is required.",e.manufacturingProcess||(t.manufacturingProcess="Select a manufacturing process."),l||(t.quantity="Share the quantity or volumes you need."),i&&!i.trim()&&(t.shippingPostalCode="Enter a postal code or leave this blank."),e.exportRestriction||(t.exportRestriction="Select the export restriction."),e.itarAcknowledged||(t.itarAcknowledged="Please confirm these parts are not subject to ITAR."),e.termsAccepted||(t.termsAccepted="Please accept the terms before submitting."),t})(p);if(Object.keys(t).length>0){e.preventDefault(),q(t),I("Please fix the highlighted fields before submitting.");return}if(!p.file){e.preventDefault(),q(e=>({...e,file:"Attach your CAD file before submitting."})),I("Attach your CAD file before submitting.");return}let r=C(p.file);if(r){e.preventDefault(),q(e=>({...e,file:r})),I(r);return}q({}),z(!0)}catch(t){console.error("[quote intake] submit handler failed",t),e.preventDefault(),I(b),L(null),z(!1)}},action:B,className:"flex flex-col",encType:"multipart/form-data",noValidate:!0,children:[M&&(0,a.jsx)("div",{className:"mb-4 rounded-2xl border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:M}),E&&(0,a.jsx)("div",{className:"mb-4 rounded-2xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-100",children:E}),(0,a.jsxs)("div",{className:(0,i.A)("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-6 py-10 text-center text-sm sm:px-8 sm:py-12",F?"border-accent/80 bg-accent/5":"border-border/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),D(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),D(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),D(!1);try{var t,r;let a=null==(r=e.dataTransfer)||null==(t=r.files)?void 0:t[0];if(!a)return;let s=C(a);if(s){I(s),q(e=>({...e,file:s})),L(null),w(e=>({...e,file:null,fileName:null})),Y(null);return}$("file"),I(null),L(null),w(e=>({...e,file:a,fileName:a.name})),Y(a)}catch(e){console.error("[quote intake] client drop failed",e),I(b),L(null)}},children:[(0,a.jsxs)("p",{className:"text-xs text-muted",children:[c,". Max ",k,"."]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-2",children:[(0,a.jsx)("label",{htmlFor:"file",className:"inline-flex cursor-pointer items-center justify-center rounded-full border border-border px-4 py-2 text-xs font-medium text-foreground transition hover:border-accent hover:text-accent",children:"Browse from device"}),(0,a.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,a.jsxs)("p",{className:"mt-1 text-[11px] text-muted",children:["Selected:"," ",p.fileName?(0,a.jsxs)("span",{className:"text-foreground",children:[p.fileName,(null==(t=p.file)?void 0:t.size)?" \xb7 ".concat(P(p.file.size)):null]}):"No file selected yet"]})]}),(0,a.jsx)("input",{id:"file",name:"file",type:"file",className:"hidden",onChange:e=>{try{var t,r;let a=null!=(r=null==(t=e.target.files)?void 0:t[0])?r:null;if(!a)return;let s=C(a);if(s){I(s),q(e=>({...e,file:s})),L(null),w(e=>({...e,file:null,fileName:null})),e.target.value="";return}$("file"),I(null),L(null),w(e=>({...e,file:a,fileName:a.name}))}catch(t){console.error("[quote intake] file picker failed",t),I(b),L(null),e.target.value=""}},accept:O?void 0:d,ref:_}),R.file&&(0,a.jsx)("p",{className:"mt-3 text-xs text-red-400",role:"alert",children:R.file})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-5",children:[u&&(0,a.jsxs)("div",{className:"rounded-2xl border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-100",children:["You're submitting as"," ",(0,a.jsx)("span",{className:"font-semibold text-emerald-50",children:u.displayName})," ","(",u.email,"). Contact details come from your workspace profile."]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"firstName",className:"text-xs font-medium text-muted tracking-wide",children:["First name",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",...J?{defaultValue:null!=(r=null==u?void 0:u.firstName)?r:""}:{value:p.firstName,onChange:H("firstName")},className:(0,i.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",R.firstName?"border-red-500":"border-border",J&&"cursor-not-allowed bg-black/30 text-muted-foreground"),"aria-invalid":!!R.firstName,"aria-describedby":R.firstName?"firstName-error":void 0,readOnly:J,"aria-readonly":J}),R.firstName&&(0,a.jsx)("p",{id:"firstName-error",className:"text-xs text-red-400",children:R.firstName})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"lastName",className:"text-xs font-medium text-muted tracking-wide",children:["Last name",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",...J?{defaultValue:null!=(n=null==u?void 0:u.lastName)?n:""}:{value:p.lastName,onChange:H("lastName")},className:(0,i.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",R.lastName?"border-red-500":"border-border",J&&"cursor-not-allowed bg-black/30 text-muted-foreground"),"aria-invalid":!!R.lastName,"aria-describedby":R.lastName?"lastName-error":void 0,readOnly:J,"aria-readonly":J}),R.lastName&&(0,a.jsx)("p",{id:"lastName-error",className:"text-xs text-red-400",children:R.lastName})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"text-xs font-medium text-muted tracking-wide",children:["Business email",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",...J?{defaultValue:null!=(o=null==u?void 0:u.email)?o:""}:{value:p.email,onChange:H("email")},className:(0,i.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",R.email?"border-red-500":"border-border",J&&"cursor-not-allowed bg-black/30 text-muted-foreground"),"aria-invalid":!!R.email,"aria-describedby":R.email?"email-error":void 0,readOnly:J,"aria-readonly":J}),R.email&&(0,a.jsx)("p",{id:"email-error",className:"text-xs text-red-400",children:R.email})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"phone",className:"text-xs font-medium text-muted tracking-wide",children:"Phone (optional)"}),(0,a.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:p.phone,onChange:H("phone"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent"})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"company",className:"text-xs font-medium text-muted tracking-wide",children:"Company"}),(0,a.jsx)("input",{id:"company",name:"company",type:"text",autoComplete:"organization",value:p.company,onChange:H("company"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"manufacturingProcess",className:"text-xs font-medium text-muted tracking-wide",children:["Manufacturing process",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"manufacturingProcess",name:"manufacturingProcess",value:p.manufacturingProcess,onChange:H("manufacturingProcess"),className:(0,i.A)("w-full rounded-md border bg-black/20 px-3 py-2 text-sm text-foreground outline-none transition",R.manufacturingProcess?"border-red-500":"border-border"),"aria-invalid":!!R.manufacturingProcess,"aria-describedby":R.manufacturingProcess?"manufacturingProcess-error":void 0,children:[(0,a.jsx)("option",{value:"",children:"Select a process"}),h.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),R.manufacturingProcess&&(0,a.jsx)("p",{id:"manufacturingProcess-error",className:"text-xs text-red-400",children:R.manufacturingProcess})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"exportRestriction",className:"text-xs font-medium text-muted tracking-wide",children:["Export restriction",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"exportRestriction",name:"exportRestriction",value:p.exportRestriction,onChange:H("exportRestriction"),className:(0,i.A)("w-full rounded-md border bg-black/20 px-3 py-2 text-sm text-foreground outline-none transition",R.exportRestriction?"border-red-500":"border-border"),"aria-invalid":!!R.exportRestriction,"aria-describedby":R.exportRestriction?"exportRestriction-error":void 0,children:[(0,a.jsx)("option",{value:"",children:"Select an option"}),g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),R.exportRestriction&&(0,a.jsx)("p",{id:"exportRestriction-error",className:"text-xs text-red-400",children:R.exportRestriction})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{htmlFor:"quantity",className:"text-xs font-medium text-muted tracking-wide",children:["Quantity / volumes",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"quantity",name:"quantity",type:"text",value:p.quantity,onChange:H("quantity"),placeholder:'e.g. "10 proto, 500/yr production"',className:(0,i.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",R.quantity?"border-red-500":"border-border"),"aria-invalid":!!R.quantity,"aria-describedby":R.quantity?"quantity-error":void 0}),R.quantity&&(0,a.jsx)("p",{id:"quantity-error",className:"text-xs text-red-400",children:R.quantity})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"shippingPostalCode",className:"text-xs font-medium text-muted tracking-wide",children:"Shipping ZIP / Postal code"}),(0,a.jsx)("input",{id:"shippingPostalCode",name:"shippingPostalCode",type:"text",autoComplete:"postal-code",value:p.shippingPostalCode,onChange:H("shippingPostalCode"),className:(0,i.A)("w-full rounded-md border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition",R.shippingPostalCode?"border-red-500":"border-border"),"aria-invalid":!!R.shippingPostalCode,"aria-describedby":R.shippingPostalCode?"shippingPostalCode-error":void 0}),R.shippingPostalCode&&(0,a.jsx)("p",{id:"shippingPostalCode-error",className:"text-xs text-red-400",children:R.shippingPostalCode})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"rfqReason",className:"text-xs font-medium text-muted tracking-wide",children:"I'm submitting this RFQ because…"}),(0,a.jsxs)("select",{id:"rfqReason",name:"rfqReason",value:p.rfqReason,onChange:H("rfqReason"),className:"w-full rounded-md border border-border bg-black/20 px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent",children:[(0,a.jsx)("option",{value:"",children:"Select a reason (optional)"}),N.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"text-xs font-medium text-muted tracking-wide",children:"Project details / notes"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",rows:4,value:p.notes,onChange:H("notes"),placeholder:"Materials, tolerances, target ship date, special requirements...",className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none transition focus:border-accent"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-start gap-3 text-sm text-foreground",children:[(0,a.jsx)("input",{id:"itarAcknowledged",name:"itarAcknowledged",type:"checkbox",value:"true",checked:p.itarAcknowledged,onChange:K("itarAcknowledged"),className:(0,i.A)("mt-1 h-4 w-4 rounded border bg-transparent",R.itarAcknowledged?"border-red-500":"border-line-subtle")}),(0,a.jsx)("span",{children:"I acknowledge these parts are not subject to ITAR restrictions."})]}),R.itarAcknowledged&&(0,a.jsx)("p",{className:"text-xs text-red-400",role:"alert",children:R.itarAcknowledged}),(0,a.jsxs)("label",{className:"flex items-start gap-3 text-sm text-foreground",children:[(0,a.jsx)("input",{id:"termsAccepted",name:"termsAccepted",type:"checkbox",value:"true",checked:p.termsAccepted,onChange:K("termsAccepted"),className:(0,i.A)("mt-1 h-4 w-4 rounded border bg-transparent",R.termsAccepted?"border-red-500":"border-line-subtle")}),(0,a.jsxs)("span",{children:["I agree to the"," ",(0,a.jsx)("a",{href:"/terms",className:"text-emerald-300 underline-offset-2 hover:underline",children:"terms of service"})," ","and"," ",(0,a.jsx)("a",{href:"/privacy",className:"text-emerald-300 underline-offset-2 hover:underline",children:"privacy policy"}),"."]})]}),R.termsAccepted&&(0,a.jsx)("p",{className:"text-xs text-red-400",role:"alert",children:R.termsAccepted})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(S,{disabled:!Z})})]})]})})}function S(e){let{disabled:t}=e,{pending:r}=(0,l.useFormStatus)();return(0,a.jsx)("button",{type:"submit",disabled:t||r,className:(0,i.A)(m.n4,"mt-2 w-full px-6 py-3",r&&"cursor-wait"),"aria-busy":r,children:r?"Submitting…":"Submit RFQ"})}},2821:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=function(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}},7275:(e,t,r)=>{"use strict";r.d(t,{m:()=>l,n4:()=>i,tJ:()=>n});let a="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:opacity-60",s={md:"px-5 py-2 text-sm",sm:"px-4 py-1.5 text-xs"},l=s,i="".concat(a," ").concat(s.md," bg-emerald-400 text-slate-950 shadow-lift-sm hover:bg-emerald-300 focus-visible:outline-emerald-300"),n="".concat(a," ").concat(s.md," border border-emerald-400/60 bg-transparent text-emerald-200 hover:bg-emerald-400/10 focus-visible:outline-emerald-400")},7399:(e,t,r)=>{Promise.resolve().then(r.bind(r,2280))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7399)),_N_E=e.O()}]);