(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5225:(e,l,t)=>{"use strict";t.d(l,{default:()=>r});var s=t(5155),a=t(2115);function r(){let[e,l]=(0,a.useState)(null),[t,r]=(0,a.useState)("idle"),[n,i]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[o,c]=(0,a.useState)(null);async function x(l){if(l.preventDefault(),!e||"uploading"===t)return;let s=new FormData;s.append("file",e),r("uploading"),i(null),c(null),u(null);try{let l=await fetch("/api/upload",{method:"POST",body:s}),t=await l.json();if(!l.ok||!t.url){var a;r("error"),u(null!=(a=t.error)?a:"Upload failed. Please try again.");return}i(t.url),c(e.name),r("success")}catch(e){r("error"),u(e instanceof Error?e.message:"Unexpected error during upload.")}}return(0,s.jsxs)("form",{onSubmit:x,className:"w-full max-w-xl space-y-4 rounded-xl border border-neutral-200 bg-neutral-900 p-4 text-neutral-50 sm:p-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold sm:text-base",children:"Upload your CAD file"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-neutral-300 sm:text-sm",children:"STEP, IGES, STL, SolidWorks, zipped assemblies — max 25MB for now."})]}),(0,s.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-lg bg-neutral-800 px-4 py-3 text-xs sm:text-sm hover:bg-neutral-700",children:[(0,s.jsx)("span",{children:e?e.name:"Select a CAD file to begin."}),(0,s.jsx)("span",{className:"rounded-full bg-emerald-500 px-3 py-1 text-xs font-semibold text-white",children:"Choose file"}),(0,s.jsx)("input",{type:"file",accept:".step,.stp,.iges,.igs,.sldprt,.x_t,.x_b,.stl,.zip",className:"hidden",onChange:function(e){var t,s;l(null!=(s=null==(t=e.target.files)?void 0:t[0])?s:null),r("idle"),i(null),u(null),c(null)}})]}),(0,s.jsx)("button",{type:"submit",disabled:!e||"uploading"===t,className:"inline-flex items-center justify-center rounded-full bg-emerald-500 px-5 py-2 text-xs font-semibold text-white transition hover:bg-emerald-600 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm",children:"uploading"===t?"Uploading…":e?"Upload file":"Select a file to submit"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs sm:text-sm",children:["idle"===t&&(0,s.jsx)("p",{className:"text-neutral-400",children:"Ready when you are."}),"uploading"===t&&(0,s.jsx)("p",{className:"text-neutral-300",children:"Uploading… hang tight."}),"success"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"font-medium text-emerald-300",children:["Upload received – we’ll review and follow up.",n?(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",className:"underline",children:"View file"})]}):null]}),o&&(0,s.jsxs)("p",{className:"text-[0.7rem] uppercase tracking-wide text-neutral-400",children:["Uploaded: ",o]})]}),"error"===t&&d&&(0,s.jsxs)("p",{className:"text-red-400",children:["Error: ",d]})]})]})}},7254:(e,l,t)=>{Promise.resolve().then(t.bind(t,5225))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);