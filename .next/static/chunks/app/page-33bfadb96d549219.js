(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6135:(e,a,t)=>{"use strict";t.d(a,{default:()=>s});var l=t(5155),r=t(2115);let n=function(){for(var e,a,t=0,l="",r=arguments.length;t<r;t++)(e=arguments[t])&&(a=function e(a){var t,l,r="";if("string"==typeof a||"number"==typeof a)r+=a;else if("object"==typeof a)if(Array.isArray(a)){var n=a.length;for(t=0;t<n;t++)a[t]&&(l=e(a[t]))&&(r&&(r+=" "),r+=l)}else for(l in a)a[l]&&(r&&(r+=" "),r+=l);return r}(e))&&(l&&(l+=" "),l+=a);return l};function s(){let[e,a]=(0,r.useState)({file:null,name:"",email:"",company:"",notes:""}),[t,s]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),p=async t=>{t.preventDefault(),d(!0),c(null),m(!1);try{if(!e.file){c("Please select a file first."),d(!1);return}let t=new FormData;if(t.append("file",e.file),t.append("name",e.name),t.append("email",e.email),t.append("company",e.company),t.append("notes",e.notes),!(await fetch("/api/upload",{method:"POST",body:t})).ok)throw Error("Upload failed.");m(!0),a({file:null,name:"",email:"",company:"",notes:""})}catch(e){c(e.message||"Something went wrong.")}finally{d(!1)}};return(0,l.jsxs)("section",{className:"w-full max-w-md border border-border/40 rounded-2xl p-6",children:[(0,l.jsxs)("div",{className:n("border-2 border-dashed rounded-xl p-8 text-center transition",t?"border-accent bg-accent/10":"border-border/60"),onDragEnter:e=>{e.preventDefault(),s(!0)},onDragOver:e=>{e.preventDefault(),s(!0)},onDragLeave:e=>{e.preventDefault(),s(!1)},onDrop:e=>{var t;e.preventDefault(),s(!1);let l=null==(t=e.dataTransfer.files)?void 0:t[0];l&&a(e=>({...e,file:l}))},children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"STEP, IGES, STL, SolidWorks, or zipped assemblies. Max ~25 MB."}),(0,l.jsx)("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("file-input"))?void 0:e.click()},className:"mt-4 px-4 py-2 rounded-full border text-sm",children:"Browse from device"}),(0,l.jsx)("input",{id:"file-input",type:"file",className:"hidden",onChange:e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];l&&a(e=>({...e,file:l}))}}),(0,l.jsx)("p",{className:"text-xs mt-3",children:e.file?(0,l.jsxs)(l.Fragment,{children:["Selected: ",e.file.name]}):(0,l.jsx)(l.Fragment,{children:"…or drag & drop into this box"})})]}),(0,l.jsxs)("form",{onSubmit:p,className:"space-y-4 mt-6",children:[(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs",children:"Your name*"}),(0,l.jsx)("input",{required:!0,type:"text",value:e.name,onChange:e=>a(a=>({...a,name:e.target.value})),className:"w-full mt-1 px-3 py-2 border rounded-md bg-background"})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs",children:"Email*"}),(0,l.jsx)("input",{required:!0,type:"email",value:e.email,onChange:e=>a(a=>({...a,email:e.target.value})),className:"w-full mt-1 px-3 py-2 border rounded-md bg-background"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs",children:"Company"}),(0,l.jsx)("input",{type:"text",value:e.company,onChange:e=>a(a=>({...a,company:e.target.value})),className:"w-full mt-1 px-3 py-2 border rounded-md bg-background"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs",children:"Process / quantity / timing"}),(0,l.jsx)("textarea",{value:e.notes,onChange:e=>a(a=>({...a,notes:e.target.value})),className:"w-full mt-1 px-3 py-2 border rounded-md bg-background",placeholder:"CNC, qty 50, target ship date, special material or tolerances…"})]}),(0,l.jsxs)("div",{className:"space-y-2 pt-2 border-t border-border/40 mt-2",children:[(0,l.jsx)("button",{type:"submit",disabled:o,className:n("w-full inline-flex items-center justify-center rounded-full px-4 py-2.5 text-sm font-medium transition","disabled:opacity-60 disabled:cursor-not-allowed"),style:{backgroundColor:"#22c55e",color:"#000",border:"1px solid rgba(34,197,94,0.9)"},children:o?"Uploading…":"Upload file"}),i&&(0,l.jsxs)("p",{className:"text-[11px] text-red-400",role:"alert",children:["Error: ",i]}),u&&!i&&(0,l.jsx)("p",{className:"text-[11px] text-emerald-400",role:"status",children:"Thanks — your CAD file is in the queue. I’ll take a look."})]})]})]})}},7254:(e,a,t)=>{Promise.resolve().then(t.bind(t,6135))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);