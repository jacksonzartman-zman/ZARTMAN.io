(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{8792:(e,t,s)=>{Promise.resolve().then(s.bind(s,9021))},9021:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155),r=s(2115);function l(e){let{uploads:t}=e,[s,l]=(0,r.useState)(""),d=s.trim().toLowerCase(),x=(0,r.useMemo)(()=>t.filter(e=>!d||[e.name,e.email,e.company,e.file_name,e.status].some(e=>null==e?void 0:e.toString().toLowerCase().includes(d))),[t,d]);return(0,a.jsxs)("div",{className:"mx-auto flex max-w-5xl flex-col gap-4 px-4 pb-16 pt-10",children:[(0,a.jsxs)("header",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-emerald-400",children:"Uploads dashboard"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Latest CAD uploads hitting Supabase."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsx)("input",{value:s,onChange:e=>l(e.target.value),placeholder:"Search by customer, email, company, file, or status...",className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm outline-none ring-emerald-500 focus:ring-1"}),s&&(0,a.jsx)("button",{type:"button",onClick:()=>l(""),className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear"})]}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border bg-card",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,a.jsx)("thead",{className:"border-b border-border bg-muted/40 text-[11px] uppercase tracking-wide text-muted-foreground",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"Customer"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Company"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"File"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Created"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"Open"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-border",children:0===x.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-xs text-muted-foreground",children:"No uploads match your search."})}):x.map(e=>(0,a.jsxs)("tr",{className:"text-sm",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name||"—"}),e.email&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.email})]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.company||"—"}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs",children:e.file_name||"—"}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"inline-flex rounded-full bg-emerald-500/10 px-2.5 py-1 text-xs font-medium text-emerald-400",children:e.status||"New"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-right",children:(0,a.jsx)("a",{href:"/admin/uploads/".concat(e.id),className:"text-xs font-medium text-emerald-400 hover:text-emerald-300",children:"View"})})]},e.id))})]})}),(0,a.jsx)("p",{className:"mt-2 text-right text-[10px] uppercase tracking-wide text-muted-foreground",children:"Admin view only"})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=8792)),_N_E=e.O()}]);