(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{63:(e,t,r)=>{"use strict";var l=r(7260);r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}}),r.o(l,"useSearchParams")&&r.d(t,{useSearchParams:function(){return l.useSearchParams}})},926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return l.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let l=r(1209),n=r(5153),s=r(7197)},1150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let l=r(5155),n=r(2115),s=r(4437);function a(e){return{default:e&&"default"in e?e.default:e}}r(6552);let o={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},u=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(a)),u=t.loading;function d(e){let a=u?(0,l.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?n.Suspense:n.Fragment,c=t.ssr?(0,l.jsxs)(l.Fragment,{children:[null,(0,l.jsx)(r,{...e})]}):(0,l.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(r,{...e})});return(0,l.jsx)(d,{...o?{fallback:a}:{},children:c})}return d.displayName="LoadableComponent",d}},2497:(e,t,r)=>{"use strict";r.d(t,{LA:()=>n,Zo:()=>l,mh:()=>s});let l="submitted",n={submitted:"Submitted",in_review:"In review",quoted:"Quoted",approved:"Approved",rejected:"Rejected"},s=["submitted","in_review","quoted","approved","rejected"]},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class l{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new l}function a(e){return n?n.bind(e):l.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}},4188:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var l=r(5155),n=r(6278);let s=r.n(n)()(()=>Promise.all([r.e(367),r.e(989)]).then(r.bind(r,370)),{loadableGenerated:{webpack:()=>[370]},ssr:!1,loading:()=>(0,l.jsx)(o,{})});function a(e){return(0,l.jsx)(s,{...e})}function o(e){let{height:t=320}=e,r="number"==typeof t&&Number.isFinite(t)&&t>0?t:320;return(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)("div",{className:"relative overflow-hidden rounded-xl border border-slate-900/60 bg-slate-950/60",style:{height:r},children:(0,l.jsx)("div",{className:"flex h-full items-center justify-center px-6 text-center",children:(0,l.jsx)("p",{className:"text-sm text-slate-500",children:"Preparing 3D previewâ€¦"})})})})}},4437:(e,t,r)=>{"use strict";function l(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}}),r(4553)},6232:(e,t,r)=>{"use strict";r.d(t,{SuccessBanner:()=>a});var l=r(5155),n=r(2115),s=r(63);function a(e){let{message:t}=e,[r,a]=(0,n.useState)(!0),o=(0,s.useRouter)(),u=(0,s.useSearchParams)(),d=(0,s.usePathname)();return((0,n.useEffect)(()=>{if(!r)return;let e=setTimeout(()=>{let e=new URLSearchParams(u.toString());e.delete("updated");let t=e.toString(),r=t?"".concat(d,"?").concat(t):d;o.replace(r,{scroll:!1}),a(!1)},4e3);return()=>clearTimeout(e)},[r,u,d,o]),r)?(0,l.jsx)("div",{className:"mb-6 rounded-md border border-emerald-500 bg-emerald-900/70 px-4 py-3 text-sm text-emerald-50",children:t}):null}},6278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let l=r(8140)._(r(1150));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,l.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6552:(e,t,r)=>{"use strict";function l(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return l}}),r(5155),r(7650),r(8567),r(7278)},6769:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.bind(r,8014)),Promise.resolve().then(r.bind(r,8339)),Promise.resolve().then(r.bind(r,6232)),Promise.resolve().then(r.bind(r,4188))},7275:(e,t,r)=>{"use strict";r.d(t,{m:()=>s,n4:()=>a,tJ:()=>o});let l="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:opacity-60",n={md:"px-5 py-2 text-sm",sm:"px-4 py-1.5 text-xs"},s=n,a="".concat(l," ").concat(n.md," bg-emerald-400 text-slate-950 shadow-lift-sm hover:bg-emerald-300 focus-visible:outline-emerald-300"),o="".concat(l," ").concat(n.md," border border-emerald-400/60 bg-transparent text-emerald-200 hover:bg-emerald-400/10 focus-visible:outline-emerald-400")},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return l}});let l=(0,r(4054).createAsyncLocalStorage)()},8014:(e,t,r)=>{"use strict";r.d(t,{QuoteMessageComposer:()=>c});var l=r(5155),n=r(2115),s=r(7650),a=r(926);let o=(0,a.createServerReference)("603c2696ae0ce474d9f017271e7803dbe040e67138",a.callServer,void 0,a.findSourceMapURL,"postQuoteMessageAction");var u=r(7275);let d={success:!1,error:null};function c(e){let{quoteId:t}=e,r=(0,n.useRef)(null),a=(0,n.useRef)(null),[u,c]=(0,s.useFormState)(o,d);return(0,n.useEffect)(()=>{var e;u.success&&(null==(e=r.current)||e.reset(),a.current&&(a.current.value=""))},[u.success,u.messageId]),(0,l.jsxs)("form",{ref:r,action:c,className:"space-y-3",children:[(0,l.jsx)("input",{type:"hidden",name:"quote_id",value:t}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{htmlFor:"quote-message-body",className:"text-sm font-medium text-slate-200",children:"Message"}),(0,l.jsx)("textarea",{id:"quote-message-body",name:"body",ref:a,rows:4,maxLength:2e3,className:"w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none",placeholder:"Share an update or question for this quote..."})]}),u.error&&(0,l.jsx)("p",{className:"text-sm text-red-400",role:"alert","aria-live":"polite",children:u.error}),(0,l.jsx)(i,{})]})}function i(){let{pending:e}=(0,s.useFormStatus)();return(0,l.jsx)("button",{type:"submit",disabled:e,className:"".concat(u.n4," w-full sm:w-auto"),children:e?"Sending...":"Send message"})}},8339:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var l=r(5155),n=r(2115),s=r(7650),a=r(926);let o=(0,a.createServerReference)("60e5189f61aff70483d3f06595e62824dfc688f177",a.callServer,void 0,a.findSourceMapURL,"handleQuoteFormSubmit");var u=r(2497),d=r(7275);let c=["USD","EUR","GBP"],i={};function m(e){var t,r,s,a;let{quote:d}=e,[m,b]=(0,n.useActionState)(o,i);return(0,l.jsxs)("form",{className:"mt-4 space-y-5",action:b,children:[(0,l.jsx)("input",{type:"hidden",name:"id",value:d.id}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-200",children:"Status"}),(0,l.jsx)("select",{id:"status",name:"status",defaultValue:null!=(t=d.status)?t:u.Zo,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",children:u.mh.map(e=>(0,l.jsx)("option",{value:e,children:u.LA[e]},e))})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-200",children:"Price"}),(0,l.jsx)("input",{id:"price",name:"price",type:"number",step:"0.01",inputMode:"decimal",defaultValue:null!=(r=d.price)?r:"",placeholder:"0.00",className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-slate-200",children:"Currency"}),(0,l.jsx)("select",{id:"currency",name:"currency",defaultValue:d.currency||"USD",className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",children:c.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{htmlFor:"target_date",className:"block text-sm font-medium text-slate-200",children:"Target date"}),(0,l.jsx)("input",{id:"target_date",name:"target_date",type:"date",defaultValue:function(e){let t=function(e){if(null==e)return null;let t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:t}(e);return t?t.toISOString().slice(0,10):""}(d.targetDate),className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{htmlFor:"dfm_notes",className:"block text-sm font-medium text-slate-200",children:"DFM notes (visible to customer)"}),(0,l.jsx)("textarea",{id:"dfm_notes",name:"dfm_notes",defaultValue:null!=(s=d.dfmNotes)?s:"",rows:4,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",placeholder:"Call out manufacturability feedback you want to share"}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"Customers will eventually see these notes on their quote."})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{htmlFor:"internal_notes",className:"block text-sm font-medium text-slate-200",children:"Internal notes"}),(0,l.jsx)("textarea",{id:"internal_notes",name:"internal_notes",defaultValue:null!=(a=d.internalNotes)?a:"",rows:4,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(null==m?void 0:m.error)&&(0,l.jsx)("p",{className:"text-sm text-red-400",children:m.error}),(0,l.jsx)(f,{})]})}function f(){let{pending:e}=(0,s.useFormStatus)();return(0,l.jsx)("button",{type:"submit",disabled:e,className:d.n4,children:e?"Saving...":"Save changes"})}},8567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return l.workAsyncStorageInstance}});let l=r(7828)}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=6769)),_N_E=e.O()}]);