(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{1:(e,t,l)=>{"use strict";l.d(t,{default:()=>u});var s=l(5155),r=l(7650),a=l(926);let n=(0,a.createServerReference)("6085c69ca9af62ef497809de02a8984591d87c7f3a",a.callServer,void 0,a.findSourceMapURL,"handleQuoteFormSubmit");var o=l(8799),i=l(2497);let d=["USD","EUR","GBP"],c={};function u(e){var t,l,a,u;let{quote:x}=e,[h,b]=(0,r.useFormState)(n,c);return(0,s.jsxs)("form",{className:"mt-4 space-y-5",action:b,children:[(0,s.jsx)("input",{type:"hidden",name:"id",value:x.id}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-200",children:"Status"}),(0,s.jsx)("select",{id:"status",name:"status",defaultValue:null!=(t=x.status)?t:i.Zo,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",children:i.mh.map(e=>(0,s.jsx)("option",{value:e,children:i.LA[e]},e))})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-200",children:"Price"}),(0,s.jsx)("input",{id:"price",name:"price",type:"number",step:"0.01",inputMode:"decimal",defaultValue:null!=(l=x.price)?l:"",placeholder:"0.00",className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-slate-200",children:"Currency"}),(0,s.jsx)("select",{id:"currency",name:"currency",defaultValue:x.currency||"USD",className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",children:d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"target_date",className:"block text-sm font-medium text-slate-200",children:"Target date"}),(0,s.jsx)("input",{id:"target_date",name:"target_date",type:"date",defaultValue:(0,o.l)(x.targetDate),className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"dfm_notes",className:"block text-sm font-medium text-slate-200",children:"DFM notes (visible to customer)"}),(0,s.jsx)("textarea",{id:"dfm_notes",name:"dfm_notes",defaultValue:null!=(a=x.dfmNotes)?a:"",rows:4,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",placeholder:"Call out manufacturability feedback you want to share"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Customers will eventually see these notes on their quote."})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{htmlFor:"internal_notes",className:"block text-sm font-medium text-slate-200",children:"Internal notes"}),(0,s.jsx)("textarea",{id:"internal_notes",name:"internal_notes",defaultValue:null!=(u=x.internalNotes)?u:"",rows:4,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(null==h?void 0:h.error)&&(0,s.jsx)("p",{className:"text-sm text-red-400",children:h.error}),(0,s.jsx)(m,{})]})}function m(){let{pending:e}=(0,r.useFormStatus)();return(0,s.jsx)("button",{type:"submit",disabled:e,className:"inline-flex items-center rounded-full bg-emerald-400 px-4 py-2 text-sm font-medium text-black transition hover:bg-emerald-300 disabled:opacity-60",children:e?"Saving...":"Save changes"})}},2497:(e,t,l)=>{"use strict";l.d(t,{LA:()=>r,Zo:()=>s,mh:()=>a});let s="new",r={new:"New",in_review:"In review",quoted:"Quoted",on_hold:"On hold",closed_lost:"Closed lost"},a=["new","in_review","quoted","on_hold","closed_lost"]},5033:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var s=l(5155),r=l(2115),a=l(195),n=l(6750),o=l(6007);function i(e){let{src:t,fileName:l,height:i=320,fallbackMessage:d}=e,[c,u]=(0,r.useState)(null),[m,x]=(0,r.useState)("idle"),[h,b]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=!0;if(b(null),u(e=>(null==e||e.dispose(),null)),!t)return x("idle"),()=>{e=!1};x("loading");let l=new o.t;return l.setCrossOrigin("anonymous"),l.load(t,t=>{if(!e)return void t.dispose();t.center(),u(e=>(null==e||e.dispose(),t)),x("ready")},void 0,t=>{e&&(console.error("CAD preview load error",t),b("Could not load the CAD preview."),x("error"))}),()=>{e=!1,u(e=>(null==e||e.dispose(),null))}},[t]);let f=(0,r.useMemo)(()=>"#8BE8FF",[]),p=t&&"idle"!==m?"loading"===m?"Loading 3D preview…":"error"===m?null!=h?h:"3D preview not available.":null:null!=d?d:"3D preview not available for this quote yet.",v="ready"===m&&c&&t;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"relative overflow-hidden rounded-xl border border-slate-900/60 bg-slate-950/60",style:{height:i},children:v?(0,s.jsxs)(a.Hl,{camera:{position:[0,0,5],fov:45},className:"h-full w-full",dpr:[1,2],children:[(0,s.jsx)("ambientLight",{intensity:.45}),(0,s.jsx)("directionalLight",{position:[2,2,3],intensity:.9}),(0,s.jsx)("directionalLight",{position:[-2,-1,-2],intensity:.35}),(0,s.jsx)("mesh",{geometry:c,rotation:[-Math.PI/2,0,0],children:(0,s.jsx)("meshStandardMaterial",{attach:"material",color:f,metalness:.15,roughness:.6})}),(0,s.jsx)(n.N,{enableDamping:!0,enablePan:!0,enableZoom:!0,dampingFactor:.08,makeDefault:!0})]}):(0,s.jsx)("div",{className:"flex h-full items-center justify-center px-6 text-center",children:(0,s.jsx)("p",{className:"text-sm text-slate-500",children:p})})}),l&&(0,s.jsx)("p",{className:"mt-3 text-center text-xs uppercase tracking-wide text-slate-500",children:l})]})}},6232:(e,t,l)=>{"use strict";l.d(t,{SuccessBanner:()=>n});var s=l(5155),r=l(2115),a=l(63);function n(e){let{message:t}=e,[l,n]=(0,r.useState)(!0),o=(0,a.useRouter)(),i=(0,a.useSearchParams)(),d=(0,a.usePathname)();return((0,r.useEffect)(()=>{if(!l)return;let e=setTimeout(()=>{let e=new URLSearchParams(i.toString());e.delete("updated");let t=e.toString(),l=t?"".concat(d,"?").concat(t):d;o.replace(l,{scroll:!1}),n(!1)},4e3);return()=>clearTimeout(e)},[l,i,d,o]),l)?(0,s.jsx)("div",{className:"mb-6 rounded-md border border-emerald-500 bg-emerald-900/70 px-4 py-3 text-sm text-emerald-50",children:t}):null}},8799:(e,t,l)=>{"use strict";l.d(t,{l:()=>n,r:()=>a});let s="en-US";function r(e){if(null==e)return null;let t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:t}function a(e){let{includeTime:t=!1,fallback:l="—"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r(e);if(!a)return l;let n=a.toLocaleDateString(s,{month:"short",day:"numeric",year:"numeric"});if(!t)return n;let o=a.toLocaleTimeString(s,{hour:"numeric",minute:"2-digit"});return"".concat(n," \xb7 ").concat(o)}function n(e){let t=r(e);return t?t.toISOString().slice(0,10):""}},9360:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,2619,23)),Promise.resolve().then(l.bind(l,1)),Promise.resolve().then(l.bind(l,6232)),Promise.resolve().then(l.bind(l,5033))}},e=>{e.O(0,[367,619,226,441,255,358],()=>e(e.s=9360)),_N_E=e.O()}]);