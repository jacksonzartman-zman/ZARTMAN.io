(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2497:(e,t,s)=>{"use strict";s.d(t,{LA:()=>r,Zo:()=>a,mh:()=>l});let a="submitted",r={submitted:"Submitted",in_review:"In review",quoted:"Quoted",approved:"Approved",rejected:"Rejected"},l=["submitted","in_review","quoted","approved","rejected"]},2745:(e,t,s)=>{"use strict";s.d(t,{QuoteMessageComposer:()=>c});var a=s(5155),r=s(2115),l=s(7650),n=s(926);let o=(0,n.createServerReference)("60ea2a90d293039dfa67bcf27eb879b9af9805fc49",n.callServer,void 0,n.findSourceMapURL,"postQuoteMessageAction");var d=s(7275);let u={success:!1,error:null};function c(e){let{quoteId:t}=e,s=(0,r.useRef)(null),n=(0,r.useRef)(null),[d,c]=(0,l.useFormState)(o,u);return(0,r.useEffect)(()=>{var e;d.success&&(null==(e=s.current)||e.reset(),n.current&&(n.current.value=""))},[d.success,d.messageId]),(0,a.jsxs)("form",{ref:s,action:c,className:"space-y-3",children:[(0,a.jsx)("input",{type:"hidden",name:"quote_id",value:t}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"quote-message-body",className:"text-sm font-medium text-slate-200",children:"Message"}),(0,a.jsx)("textarea",{id:"quote-message-body",name:"body",ref:n,rows:4,maxLength:2e3,className:"w-full rounded-lg border border-slate-800 bg-black/40 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none",placeholder:"Share an update or question for this quote..."})]}),d.error&&(0,a.jsx)("p",{className:"text-sm text-red-400",role:"alert","aria-live":"polite",children:d.error}),(0,a.jsx)(m,{})]})}function m(){let{pending:e}=(0,l.useFormStatus)();return(0,a.jsx)("button",{type:"submit",disabled:e,className:"".concat(d.n4," ").concat(d.m.md," w-full sm:w-auto"),children:e?"Sending...":"Send message"})}},3026:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(5155),r=s(2115),l=s(7650),n=s(2821),o=s(926);let d=(0,o.createServerReference)("60f9549e1c6dfd6d8473e2b3a4150daf9bc7a942ce",o.callServer,void 0,o.findSourceMapURL,"handleQuoteFormSubmit");var u=s(2497),c=s(7275);let m=["USD","EUR","GBP"],i={};function x(e){var t,s,l,n;let{quote:o}=e,[c,x]=(0,r.useActionState)(d,i);return(0,a.jsxs)("form",{className:"mt-4 space-y-4",action:x,children:[(0,a.jsx)("input",{type:"hidden",name:"id",value:o.id}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-200",children:"Status"}),(0,a.jsx)("select",{id:"status",name:"status",defaultValue:null!=(t=o.status)?t:u.Zo,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",children:u.mh.map(e=>(0,a.jsx)("option",{value:e,children:u.LA[e]},e))})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-200",children:"Price"}),(0,a.jsx)("input",{id:"price",name:"price",type:"number",step:"0.01",inputMode:"decimal",defaultValue:null!=(s=o.price)?s:"",placeholder:"0.00",className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-slate-200",children:"Currency"}),(0,a.jsx)("select",{id:"currency",name:"currency",defaultValue:o.currency||"USD",className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",children:m.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{htmlFor:"target_date",className:"block text-sm font-medium text-slate-200",children:"Target date"}),(0,a.jsx)("input",{id:"target_date",name:"target_date",type:"date",defaultValue:function(e){let t=function(e){if(null==e)return null;let t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:t}(e);return t?t.toISOString().slice(0,10):""}(o.targetDate),className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{htmlFor:"dfm_notes",className:"block text-sm font-medium text-slate-200",children:"DFM notes (visible to customer)"}),(0,a.jsx)("textarea",{id:"dfm_notes",name:"dfm_notes",defaultValue:null!=(l=o.dfmNotes)?l:"",rows:4,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400",placeholder:"Call out manufacturability feedback you want to share"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Customers will eventually see these notes on their quote."})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{htmlFor:"internal_notes",className:"block text-sm font-medium text-slate-200",children:"Internal notes"}),(0,a.jsx)("textarea",{id:"internal_notes",name:"internal_notes",defaultValue:null!=(n=o.internalNotes)?n:"",rows:4,className:"w-full rounded-md border border-slate-700 bg-black/40 px-3 py-2 text-sm text-slate-100 outline-none focus:border-emerald-400"})]}),(null==c?void 0:c.error)&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:c.error}),(0,a.jsx)("div",{className:"flex flex-col gap-3 pt-1 sm:flex-row sm:justify-end",children:(0,a.jsx)(b,{})})]})}function b(){let{pending:e}=(0,l.useFormStatus)();return(0,a.jsx)("button",{type:"submit",disabled:e,className:(0,n.A)(c.n4,c.m.md,"w-full sm:w-auto"),children:e?"Saving...":"Save changes"})}},6232:(e,t,s)=>{"use strict";s.d(t,{SuccessBanner:()=>n});var a=s(5155),r=s(2115),l=s(63);function n(e){let{message:t}=e,[s,n]=(0,r.useState)(!0),o=(0,l.useRouter)(),d=(0,l.useSearchParams)(),u=(0,l.usePathname)();return((0,r.useEffect)(()=>{if(!s)return;let e=setTimeout(()=>{let e=new URLSearchParams(d.toString());e.delete("updated");let t=e.toString(),s=t?"".concat(u,"?").concat(t):u;o.replace(s,{scroll:!1}),n(!1)},4e3);return()=>clearTimeout(e)},[s,d,u,o]),s)?(0,a.jsx)("div",{className:"mb-6 rounded-md border border-emerald-500 bg-emerald-900/70 px-4 py-3 text-sm text-emerald-50",children:t}):null}},8386:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2619,23)),Promise.resolve().then(s.bind(s,8567)),Promise.resolve().then(s.bind(s,2745)),Promise.resolve().then(s.bind(s,9867)),Promise.resolve().then(s.bind(s,3026)),Promise.resolve().then(s.bind(s,6232))}},e=>{e.O(0,[619,264,441,255,358],()=>e(e.s=8386)),_N_E=e.O()}]);