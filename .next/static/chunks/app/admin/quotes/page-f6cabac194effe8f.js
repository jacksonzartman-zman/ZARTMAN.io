(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{63:(e,t,l)=>{"use strict";var s=l(7260);l.o(s,"usePathname")&&l.d(t,{usePathname:function(){return s.usePathname}}),l.o(s,"useRouter")&&l.d(t,{useRouter:function(){return s.useRouter}}),l.o(s,"useSearchParams")&&l.d(t,{useSearchParams:function(){return s.useSearchParams}})},1855:(e,t,l)=>{"use strict";l.d(t,{default:()=>d});var s=l(5155),a=l(2619),r=l.n(a),n=l(2115);let o={all:"All",new:"New",in_review:"In review",quoted:"Quoted",on_hold:"On hold",closed_lost:"Closed lost"},c=["all","new","in_review","quoted","on_hold","closed_lost"];function d(e){let{quotes:t}=e,[l,a]=(0,n.useState)(""),[d,u]=(0,n.useState)("all"),i=(0,n.useMemo)(()=>{let e=l.trim().toLowerCase();return t.filter(t=>{var l,s,a,r;let n=!e||t.customerName.toLowerCase().includes(e)||t.customerEmail.toLowerCase().includes(e)||(null!=(l=t.company)?l:"").toLowerCase().includes(e)||(null!=(s=t.fileName)?s:"").toLowerCase().includes(e)||(null!=(a=t.status)?a:"").toLowerCase().includes(e),o=(null!=(r=t.status)?r:"new").toLowerCase(),c="all"===d||o===d;return n&&c})},[t,l,d]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsx)("input",{type:"search",value:l,onChange:e=>a(e.target.value),placeholder:"Search by customer, email, company, file, or status...",className:"w-full max-w-xl rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-500"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>{let t=d===e;return(0,s.jsx)("button",{type:"button",onClick:()=>u(e),className:"rounded-full border px-3 py-1 text-xs font-medium transition-colors ".concat(t?"border-emerald-400 bg-emerald-500/10 text-emerald-300":"border-slate-700 bg-slate-900 text-slate-400 hover:border-emerald-400 hover:text-emerald-200"),children:o[e]},e)})})]}),(0,s.jsx)("div",{className:"mt-4 overflow-x-auto rounded-lg border border-slate-800 bg-slate-950/60",children:(0,s.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,s.jsx)("thead",{className:"border-b border-slate-800 bg-slate-900/60 text-xs uppercase text-slate-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Customer"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Company"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"File"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Price"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Target date"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Created"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right",children:"Open"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-slate-900",children:[i.map(e=>{var t,l;return(0,s.jsxs)("tr",{className:"hover:bg-slate-900/60",children:[(0,s.jsx)("td",{className:"px-4 py-3 align-top",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm text-slate-100",children:e.customerName}),e.customerEmail&&(0,s.jsx)("a",{href:"mailto:".concat(e.customerEmail),className:"text-xs text-emerald-400 hover:underline",children:e.customerEmail})]})}),(0,s.jsx)("td",{className:"px-4 py-3 align-top text-sm text-slate-200",children:e.company||"—"}),(0,s.jsx)("td",{className:"px-4 py-3 align-top text-xs text-slate-300",children:e.fileName}),(0,s.jsx)("td",{className:"px-4 py-3 align-top",children:(0,s.jsx)("span",{className:"inline-flex rounded-full bg-emerald-500/10 px-2.5 py-1 text-xs font-medium text-emerald-300",children:(null!=(t=e.status)?t:"new").replace("_"," ")})}),(0,s.jsx)("td",{className:"px-4 py-3 align-top text-xs text-slate-200",children:function(e,t){if(null==e)return"—";let l=Number(e);return Number.isNaN(l)?"—":"".concat(t||"USD"," ").concat(l.toFixed(2))}(e.price,e.currency)}),(0,s.jsx)("td",{className:"px-4 py-3 align-top text-xs text-slate-400",children:null!=(l=e.targetDate)?l:"—"}),(0,s.jsx)("td",{className:"px-4 py-3 align-top text-xs text-slate-400",children:e.createdAt}),(0,s.jsx)("td",{className:"px-4 py-3 align-top text-right text-xs",children:(0,s.jsx)(r(),{href:"/admin/quotes/".concat(e.id),className:"text-emerald-400 hover:underline",children:"View quote"})})]},e.id)}),0===i.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:8,className:"px-4 py-8 text-center text-sm text-slate-500",children:"No quotes match your filters."})})]})]})})]})}},1903:(e,t,l)=>{"use strict";l.d(t,{default:()=>n});var s=l(5155),a=l(63);let r=[{value:"all",label:"All"},{value:"new",label:"New"},{value:"in_review",label:"In review"},{value:"quoted",label:"Quoted"},{value:"on_hold",label:"On hold"},{value:"closed_lost",label:"Closed lost"}];function n(e){let{currentStatus:t,basePath:l}=e,n=(0,a.useRouter)(),o=(0,a.useSearchParams)();return(0,a.usePathname)(),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>{let a="all"===e.value&&!t||"all"!==e.value&&t===e.value;return(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{let t=new URLSearchParams(o.toString());"all"===e?t.delete("status"):t.set("status",e);let s=t.toString(),a="".concat(l).concat(s?"?".concat(s):"");n.push(a)})(e.value),className:["rounded-full px-3 py-1 text-xs font-medium transition",a?"bg-emerald-500 text-slate-950":"bg-slate-900 text-slate-200 border border-slate-700 hover:border-emerald-500"].join(" "),children:e.label},e.value)})})}},7063:(e,t,l)=>{Promise.resolve().then(l.bind(l,1855)),Promise.resolve().then(l.bind(l,1903))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=7063)),_N_E=e.O()}]);