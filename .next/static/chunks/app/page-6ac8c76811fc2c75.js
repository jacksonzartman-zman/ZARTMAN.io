(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5225:(e,l,t)=>{"use strict";t.d(l,{default:()=>n});var a=t(5155),s=t(2115);function n(){let[e,l]=s.useState(null),[t,n]=s.useState("idle"),[r,o]=s.useState(null),[d,i]=s.useState(""),[u,c]=s.useState(""),[x,m]=s.useState(""),[p,h]=s.useState("");async function f(t){if(t.preventDefault(),o(null),!e)return void o("Please choose a file before uploading.");n("uploading");try{let a=new FormData;a.append("file",e),a.append("contact_name",d),a.append("contact_email",u),a.append("company",x),a.append("notes",p);let s=await fetch("/api/upload",{method:"POST",body:a}),r=null;try{r=await s.json()}catch(e){}if(!s.ok||(null==r?void 0:r.success)===!1)throw Error((null==r?void 0:r.error)||"Upload failed");n("success"),l(null),i(""),c(""),m(""),h(""),o(null),t.target.reset()}catch(e){console.error(e),n("error"),o((null==e?void 0:e.message)||"Upload failed. Please try again or email your file.")}}let b="uploading"===t;return(0,a.jsxs)("section",{"aria-labelledby":"upload-heading",className:"mt-8",children:[(0,a.jsx)("h2",{id:"upload-heading",className:"text-lg font-semibold text-neutral-100 mb-2",children:"Upload your CAD"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400 mb-4 max-w-2xl",children:"Start with one file. We’ll use this to tune the flow, not to spam you with sales outreach."}),(0,a.jsxs)("form",{onSubmit:f,className:"rounded-2xl bg-neutral-900/80 border border-neutral-800 px-6 py-6 space-y-4 max-w-3xl shadow-xl",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-neutral-300",children:"Upload your CAD file"}),(0,a.jsx)("p",{className:"text-[11px] text-neutral-500",children:"STEP, IGES, STL, SolidWorks, or zipped assemblies. Max 25\xa0MB for now."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,a.jsxs)("label",{className:"inline-flex items-center justify-center rounded-lg bg-[#7f1d1d] px-4 py-2 text-sm font-medium text-white cursor-pointer hover:bg-[#991b1b] transition-colors",children:["Choose file",(0,a.jsx)("input",{type:"file",className:"sr-only",onChange:e=>{var t,a;l(null!=(a=null==(t=e.target.files)?void 0:t[0])?a:null),n("idle"),o(null)}})]}),(0,a.jsx)("div",{className:"flex-1 min-h-[2.25rem] flex items-center rounded-lg bg-neutral-950/70 px-3 text-xs text-neutral-300 border border-dashed border-neutral-700",children:e?e.name:"No file selected"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-neutral-300 mb-1",children:"Your name"}),(0,a.jsx)("input",{type:"text",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950/80 px-3 py-2 text-sm text-neutral-50 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-[#a11d33]",value:d,onChange:e=>i(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-neutral-300 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950/80 px-3 py-2 text-sm text-neutral-50 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-[#a11d33]",value:u,onChange:e=>c(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-neutral-300 mb-1",children:"Company"}),(0,a.jsx)("input",{type:"text",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950/80 px-3 py-2 text-sm text-neutral-50 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-[#a11d33]",value:x,onChange:e=>m(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-neutral-300 mb-1",children:"What do you need help with?"}),(0,a.jsx)("input",{type:"text",className:"w-full rounded-lg border border-neutral-700 bg-neutral-950/80 px-3 py-2 text-sm text-neutral-50 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-[#a11d33]",value:p,onChange:e=>h(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"pt-3 space-y-2",children:[(0,a.jsx)("button",{type:"submit",disabled:b||!e,className:"w-full rounded-full py-2.5 text-sm font-semibold text-white transition-colors ".concat(b||!e?"bg-neutral-700 cursor-not-allowed":"bg-[#7f1d1d] hover:bg-[#b91c1c] cursor-pointer"),children:"uploading"===t?"Uploading…":"Upload file"}),"success"===t&&(0,a.jsx)("p",{className:"text-xs text-[#fca5a5]",children:"Upload complete. Thanks for sending this in — I’ll follow up once I’ve had a look."}),"error"===t&&r&&(0,a.jsxs)("p",{className:"text-xs text-[#fecaca]",children:["Error: ",r]})]})]})]})}},7254:(e,l,t)=>{Promise.resolve().then(t.bind(t,5225))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7254)),_N_E=e.O()}]);