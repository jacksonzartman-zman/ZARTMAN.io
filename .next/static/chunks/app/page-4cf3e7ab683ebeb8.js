(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{490:(e,t,l)=>{Promise.resolve().then(l.bind(l,5690)),Promise.resolve().then(l.bind(l,6135))},926:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let r=l(1209),a=l(5153),s=l(7197)},5690:(e,t,l)=>{"use strict";l.d(t,{default:()=>o});var r=l(5155),a=l(7650),s=l(926);let n=(0,s.createServerReference)("607c20d5c3c3a2b35590238c761e6fc7a8ac597fff",s.callServer,void 0,s.findSourceMapURL,"requestEarlyAccess"),i={};function o(){let[e,t]=(0,a.useFormState)(n,i);return(0,r.jsxs)("form",{action:t,className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-inner",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,r.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"you@team.com",className:"flex-1 rounded-full border border-slate-700 bg-black/30 px-4 py-2 text-sm text-slate-100 placeholder:text-slate-500 outline-none focus:border-emerald-400"}),(0,r.jsx)(d,{})]}),(null==e?void 0:e.error)&&(0,r.jsx)("p",{className:"text-sm text-red-400",children:e.error}),(null==e?void 0:e.success)&&e.message&&(0,r.jsx)("p",{className:"text-sm text-emerald-300",children:e.message})]})}function d(){let{pending:e}=(0,a.useFormStatus)();return(0,r.jsx)("button",{type:"submit",disabled:e,className:"inline-flex items-center justify-center rounded-full bg-emerald-400 px-5 py-2 text-sm font-semibold text-slate-950 transition hover:bg-emerald-300 disabled:opacity-60",children:e?"Sending...":"Request early access"})}},6135:(e,t,l)=>{"use strict";l.d(t,{default:()=>d});var r=l(5155),a=l(2115);let s=function(){for(var e,t,l=0,r="",a=arguments.length;l<a;l++)(e=arguments[l])&&(t=function e(t){var l,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(l=0;l<s;l++)t[l]&&(r=e(t[l]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}(e))&&(r&&(r+=" "),r+=t);return r},n={file:null,fileName:null,name:"",email:"",company:"",notes:""},i=["stl","step","stp","iges","igs","sldprt","sldasm","pdf","zip"];function o(e){let t=e.name.toLowerCase().split("."),l=t.length>1?t.pop():"";return i.includes(l)}function d(){let[e,t]=(0,a.useState)(n),[l,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),x=!!(e.file&&e.name&&e.email),b=e=>l=>{let r=l.target.value;t(t=>({...t,[e]:r}))},h=async l=>{var r,a;if(l.preventDefault(),u(null),f(!1),!e.file)return void u("Please select a CAD file to upload.");if(!o(e.file))return void u("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files.");if(!e.name||!e.email)return void u("Please add at least your name and email.");c(!0);try{let l=new FormData;l.append("file",e.file),l.append("name",e.name),l.append("email",e.email),l.append("company",e.company),l.append("notes",e.notes);let a=await fetch("/api/upload",{method:"POST",body:l});if(!a.ok){let e=await a.json().catch(()=>null);throw Error(null!=(r=null==e?void 0:e.message)?r:"Upload failed")}t(e=>({...e,file:null,fileName:null,notes:""})),f(!0),u(null)}catch(e){console.error(e),u(null!=(a=null==e?void 0:e.message)?a:"Upload failed. Please try again."),f(!1)}finally{c(!1)}};return(0,r.jsxs)("section",{"aria-label":"Upload CAD file",className:"relative flex flex-col rounded-3xl border border-border bg-surface p-6 sm:p-8",children:[(0,r.jsxs)("div",{className:s("flex flex-col items-center justify-center rounded-2xl border-2 border-dashed px-6 py-10 text-center text-sm sm:px-8 sm:py-12",l?"border-accent/80 bg-accent/5":"border-border/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),i(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),i(!1)},onDrop:e=>{var l;e.preventDefault(),e.stopPropagation(),i(!1);let r=null==(l=e.dataTransfer.files)?void 0:l[0];if(r){if(!o(r)){u("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files."),f(!1),t(e=>({...e,file:null,fileName:null}));return}u(null),f(!1),t(e=>({...e,file:r,fileName:r.name}))}},children:[(0,r.jsx)("p",{className:"text-xs text-muted",children:"STEP, IGES, STL, SolidWorks, PDF, or zipped assemblies. Max ~25 MB."}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-2",children:[(0,r.jsx)("label",{htmlFor:"file",className:"inline-flex cursor-pointer items-center justify-center rounded-full border border-border px-4 py-2 text-xs font-medium text-foreground transition hover:border-accent hover:text-accent",children:"Browse from device"}),(0,r.jsx)("p",{className:"text-[11px] text-muted",children:"…or drag & drop into this box"}),(0,r.jsxs)("p",{className:"mt-1 text-[11px] text-muted",children:["Selected:"," ",e.fileName?(0,r.jsx)("span",{className:"text-foreground",children:e.fileName}):"No file selected yet"]})]}),(0,r.jsx)("input",{id:"file",name:"file",type:"file",className:"hidden",onChange:e=>{var l,r;let a=null!=(r=null==(l=e.target.files)?void 0:l[0])?r:null;if(a){if(!o(a)){u("Unsupported file type. Please upload STEP, IGES, STL, SolidWorks, PDF, or zipped CAD files."),f(!1),t(e=>({...e,file:null,fileName:null})),e.target.value="";return}u(null),f(!1),t(e=>({...e,file:a,fileName:a.name}))}},accept:".stl,.step,.stp,.iges,.igs,.sldprt,.sldasm,.pdf,.zip"})]}),(0,r.jsxs)("form",{onSubmit:h,className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{htmlFor:"name",className:"text-xs font-medium text-muted tracking-wide",children:["Your name",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"name",type:"text",required:!0,value:e.name,onChange:b("name"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{htmlFor:"email",className:"text-xs font-medium text-muted tracking-wide",children:["Email",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"email",type:"email",required:!0,value:e.email,onChange:b("email"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"company",className:"text-xs font-medium text-muted tracking-wide",children:"Company"}),(0,r.jsx)("input",{id:"company",type:"text",value:e.company,onChange:b("company"),className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"notes",className:"text-xs font-medium text-muted tracking-wide",children:"Process / quantity / timing"}),(0,r.jsx)("textarea",{id:"notes",rows:3,value:e.notes,onChange:b("notes"),placeholder:"CNC, qty 50, target ship date, special material or tolerances...",className:"w-full rounded-md border border-border bg-transparent px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-accent"})]}),(0,r.jsx)("div",{className:"pt-1",children:(0,r.jsx)("button",{type:"submit",disabled:d||!x,className:s("mt-2 w-full rounded-full px-6 py-3 text-sm font-medium text-black shadow-sm transition disabled:cursor-not-allowed disabled:opacity-70",x&&!d?"bg-emerald-500 hover:bg-emerald-400":"bg-emerald-500/40"),children:d?"Uploading...":"Upload file"})}),(0,r.jsxs)("div",{className:"min-h-[1.25rem] pt-1",children:[m&&(0,r.jsxs)("p",{className:"text-xs text-red-400",role:"alert",children:["Error: ",m]}),!m&&p&&(0,r.jsx)("p",{className:"text-xs text-emerald-400",role:"status",children:"Thanks — your CAD file is in the queue. I’ll take a look."})]})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=490)),_N_E=e.O()}]);