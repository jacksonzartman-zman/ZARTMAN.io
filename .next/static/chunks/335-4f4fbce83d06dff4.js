"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{63:(e,t,s)=>{var r=s(7260);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},2821:(e,t,s)=>{s.d(t,{A:()=>r});let r=function(){for(var e,t,s=0,r="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=function e(t){var s,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=e(t[s]))&&(l&&(l+=" "),l+=r)}else for(r in t)t[r]&&(l&&(l+=" "),l+=r);return l}(e))&&(r&&(r+=" "),r+=t);return r}},3335:(e,t,s)=>{s.d(t,{default:()=>x});var r=s(5155),l=s(2115),n=s(2619),a=s.n(n),i=s(63),o=s(2821),u=s(7275);let c={customer:"Customer workspace",supplier:"Supplier workspace"},d={customer:"border-emerald-400/40 text-emerald-200 bg-emerald-500/5",supplier:"border-blue-400/40 text-blue-200 bg-blue-500/5"},m={customer:[{label:"Dashboard",href:"/customer"},{label:"Quotes",href:"/customer/quotes"},{label:"Settings",href:"/customer/settings"}],supplier:[{label:"Dashboard",href:"/supplier"},{label:"RFQs",href:"/supplier/rfqs"},{label:"Settings",href:"/supplier/settings"}]};function x(e){var t;let{user:s,notifications:n=[],signOutAction:x}=e,p=null!=(t=(0,i.usePathname)())?t:"/",h=(0,l.useMemo)(()=>{var e;return(e=p).startsWith("/customer")?"customer":e.startsWith("/supplier")?"supplier":null},[p]),g=h?m[h]:[];return(0,r.jsx)("header",{className:"sticky top-0 z-40 border-b border-slate-900/70 bg-neutral-950/95 backdrop-blur",children:(0,r.jsxs)("div",{className:"mx-auto flex w-full max-w-page flex-col gap-3 px-4 py-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,r.jsxs)(a(),{href:"/",className:"flex items-center gap-3 text-base font-semibold text-ink transition-colors hover:text-ink-soft","aria-label":"Zartman workspace home",children:[(0,r.jsx)("span",{className:"flex h-9 w-9 items-center justify-center rounded-2xl border border-emerald-400/50 bg-emerald-400/10 text-sm font-bold uppercase tracking-wide text-emerald-200",children:"Z"}),(0,r.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,r.jsx)("span",{children:"Zartman"}),(0,r.jsx)("span",{className:"text-xs font-normal uppercase tracking-[0.35em] text-ink-muted",children:"workspace"})]})]}),s&&h?(0,r.jsx)("span",{className:(0,o.A)("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide",d[h]),children:c[h]}):null]}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{notifications:n}),(0,r.jsx)(b,{user:s,role:h,signOutAction:x})]}):(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm font-semibold text-ink-soft",children:[(0,r.jsx)(a(),{href:"/login",className:"rounded-full border border-transparent px-4 py-1.5 transition-colors hover:border-slate-800 hover:text-ink",children:"Log in"}),(0,r.jsx)(a(),{href:"/quote",className:u.n4,children:"Get quote"})]})})]}),s&&g.length>0?(0,r.jsx)("nav",{className:"flex flex-wrap items-center gap-2 text-sm font-medium text-slate-400",children:g.map(e=>{var t,s;let l=(t=p)===(s=e.href)||t.startsWith("".concat(s,"/"));return(0,r.jsx)(a(),{href:e.href,className:(0,o.A)("rounded-full px-3 py-1.5 transition-colors",l?"bg-slate-900 text-white":"text-slate-400 hover:text-white"),children:e.label},e.href)})}):null]})})}function f(e){let{notifications:t}=e,[s,n]=(0,l.useState)(!1),a=(0,l.useRef)(null),o=(0,i.usePathname)(),u=t.length>0,c=t.filter(e=>!1===e.read).length;return(0,l.useEffect)(()=>{function e(e){var t;(null==(t=a.current)?void 0:t.contains(e.target))||n(!1)}return s&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,l.useEffect)(()=>{n(!1)},[o]),(0,r.jsxs)("div",{className:"relative",ref:a,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>n(e=>!e),className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-900/70 bg-slate-950/70 text-slate-300 transition hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-300","aria-haspopup":"menu","aria-expanded":s,"aria-label":u?"View notifications":"No notifications",children:[(0,r.jsx)(h,{className:"h-5 w-5"}),c>0?(0,r.jsx)("span",{className:"absolute -right-0.5 -top-0.5 inline-flex h-2.5 w-2.5 rounded-full bg-sky-400/90 ring-2 ring-slate-950",children:(0,r.jsx)("span",{className:"sr-only",children:"".concat(c," unread notification").concat(1===c?"":"s")})}):null]}),s?(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 rounded-2xl border border-slate-900/80 bg-slate-950/95 p-4 text-sm text-slate-200 shadow-[0_18px_40px_rgba(2,6,23,0.65)]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:"Notifications"}),(0,r.jsx)("span",{className:"text-xs text-slate-500",children:u?"".concat(c||t.length," new"):"All caught up"})]}),(0,r.jsx)("div",{className:"mt-3 space-y-2",children:u?t.map(e=>(0,r.jsx)(p,{notification:e},e.id)):(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Weâ€™ll surface quote and bid updates here soon."})})]}):null]})}function p(e){var t,s;let{notification:l}=e,n=null!=(t=function(e){if("number"!=typeof e||Number.isNaN(e))return null;let t=Date.now()-e;if(t<6e4)return"just now";if(t<36e5){let e=Math.max(1,Math.round(t/6e4));return"".concat(e," minute").concat(1===e?"":"s"," ago")}if(t<864e5){let e=Math.round(t/36e5);return"".concat(e," hour").concat(1===e?"":"s"," ago")}let s=Math.round(t/864e5);return"".concat(s," day").concat(1===s?"":"s"," ago")}(function(e){if(!e)return null;let t=Date.parse(e);return Number.isNaN(t)?null:t}(l.timestamp)))?t:"Just now",i="bid"===l.type?"Bid":"status"===l.type?"Status":"Quote",u=(0,r.jsxs)("div",{className:(0,o.A)("flex flex-col rounded-2xl border px-3 py-2 transition hover:border-blue-400/30 hover:bg-slate-900/40",l.read?"border-slate-900/70 opacity-80":"border-blue-500/30"),children:[(0,r.jsx)("span",{className:(0,o.A)("mb-2 inline-flex w-fit items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",null!=(s=({Quote:"bg-emerald-500/10 text-emerald-200 border-emerald-500/30",Bid:"bg-blue-500/10 text-blue-200 border-blue-500/30",Status:"bg-slate-500/10 text-slate-200 border-slate-500/30"})[i])?s:""),children:i}),(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:l.title}),(0,r.jsx)("p",{className:"text-xs text-slate-400",children:l.description}),(0,r.jsx)("p",{className:"mt-2 text-[11px] uppercase tracking-wide text-slate-500",children:n})]});return l.href?(0,r.jsx)(a(),{href:l.href,className:"block focus-visible:outline focus-visible:outline-2 focus-visible:outline-emerald-300",onClick:e=>e.stopPropagation(),children:u}):u}function h(e){let{className:t}=e;return(0,r.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,r.jsx)("path",{d:"M12 4a4 4 0 0 0-4 4v2.26c0 .46-.18.9-.5 1.22L6.2 12.78A1 1 0 0 0 6.9 14h10.2a1 1 0 0 0 .7-1.72l-1.3-1.3a1.73 1.73 0 0 1-.5-1.22V8a4 4 0 0 0-4-4Z"}),(0,r.jsx)("path",{d:"M10 17a2 2 0 0 0 4 0"})]})}function b(e){var t,s,n;let{user:u,role:c,signOutAction:d}=e,[m,x]=(0,l.useState)(!1),f=(0,l.useRef)(null),p=(0,i.usePathname)();(0,l.useEffect)(()=>{function e(e){var t;(null==(t=f.current)?void 0:t.contains(e.target))||x(!1)}return m&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m]),(0,l.useEffect)(()=>{x(!1)},[p]);let h=null!=(s=null!=(t=u.displayName)?t:u.email)?s:"Signed in user";return(0,r.jsxs)("div",{className:"relative",ref:f,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>x(e=>!e),className:"inline-flex items-center gap-2 rounded-full border border-slate-800 bg-slate-950/50 px-4 py-1.5 text-sm font-semibold text-slate-200 transition hover:border-slate-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-emerald-300","aria-haspopup":"menu","aria-expanded":m,children:[(0,r.jsx)("span",{children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;return e.length<=t?e:"".concat(e.slice(0,t-3),"...")}(h)}),(0,r.jsx)("svg",{className:(0,o.A)("h-4 w-4 transition-transform",m?"rotate-180":"rotate-0"),viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M5 7l5 5 5-5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),m?(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl border border-slate-900 bg-slate-950/95 p-4 text-sm shadow-lg shadow-black/40",children:[(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Signed in as"}),(0,r.jsx)("p",{className:"mt-1 font-semibold text-white",children:null!=(n=u.displayName)?n:"Workspace user"}),u.email?(0,r.jsx)("p",{className:"text-xs text-slate-500",children:u.email}):null,(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(0,r.jsx)(a(),{href:"customer"===c?"/customer/settings":"supplier"===c?"/supplier/settings":"/account/settings",className:"rounded-full border border-slate-800 px-3 py-1.5 text-left text-sm font-semibold text-slate-100 transition hover:border-slate-700 hover:text-white",onClick:()=>x(!1),children:"Account settings"}),(0,r.jsx)("form",{action:d,children:(0,r.jsx)("button",{type:"submit",className:"w-full rounded-full bg-red-500/10 px-3 py-1.5 text-sm font-semibold text-red-200 transition hover:bg-red-500/20",children:"Log out"})})]})]}):null]})}},7275:(e,t,s)=>{s.d(t,{m:()=>n,n4:()=>a,tJ:()=>i});let r="inline-flex items-center justify-center rounded-full font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed disabled:opacity-60",l={md:"px-5 py-2 text-sm",sm:"px-4 py-1.5 text-xs"},n=l,a="".concat(r," ").concat(l.md," bg-emerald-400 text-slate-950 shadow-lift-sm hover:bg-emerald-300 focus-visible:outline-emerald-300"),i="".concat(r," ").concat(l.md," border border-emerald-400/60 bg-transparent text-emerald-200 hover:bg-emerald-400/10 focus-visible:outline-emerald-400")}}]);