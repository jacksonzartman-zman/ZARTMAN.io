@tailwind base;
@tailwind components;
@tailwind utilities;

@import "../ui/tokens.css";

/* Prefer dark UI */
:root {
  color-scheme: dark;
}

/* ---------- Base layer: global elements ---------- */
@layer base {
  body {
    /* only built-in Tailwind classes here */
    @apply bg-neutral-950 text-neutral-50 font-sans antialiased;
  }

  /* Subtle visual continuity when navigating via in-page anchors (hash). */
  .scroll-mt-24:target {
    outline: 2px solid rgb(16 185 129 / 0.35);
    outline-offset: 6px;
    border-radius: 1rem;
    background-color: rgb(16 185 129 / 0.03);
    box-shadow: 0 0 0 6px rgb(16 185 129 / 0.06);
    transition: outline-color 200ms ease, box-shadow 200ms ease,
      background-color 200ms ease;
  }
}

/* ---------- Components layer: reusable shells ---------- */
@layer components {
  /* Main page wrapper */
  .main-shell {
    @apply min-h-screen bg-gradient-to-b from-black via-neutral-950 to-black;
  }

  /* Card shell for surfaces (upload panel, info cards, etc.) */
  .surface-card {
    @apply bg-neutral-900/90 border border-neutral-800 rounded-2xl shadow-lg;
  }

}

/* ---------- Utilities layer: one-off helpers ---------- */
@layer utilities {
  /* Prevent long IDs/emails/filenames from forcing horizontal scroll. */
  .break-anywhere {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* RFQ success micro-celebration (premium, subtle). */
  @keyframes rfq-submitted-sweep {
    0% {
      transform: translateX(-35%) skewX(-12deg);
      opacity: 0;
    }
    15% {
      opacity: 1;
    }
    100% {
      transform: translateX(120%) skewX(-12deg);
      opacity: 0;
    }
  }

  @keyframes rfq-submitted-glow {
    0% {
      box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
      opacity: 0;
    }
    20% {
      opacity: 1;
    }
    100% {
      box-shadow:
        0 0 0 1px rgba(16, 185, 129, 0.14),
        0 10px 35px rgba(16, 185, 129, 0.08);
      opacity: 0;
    }
  }

  .rfq-submitted-card {
    position: relative;
    overflow: hidden;
  }

  .rfq-submitted-card::before,
  .rfq-submitted-card::after {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    pointer-events: none;
  }

  .rfq-submitted-card::before {
    animation: rfq-submitted-glow 1100ms ease-out both;
  }

  .rfq-submitted-card::after {
    inset: 0;
    background: linear-gradient(
      110deg,
      transparent 0%,
      rgba(148, 163, 184, 0.06) 42%,
      rgba(16, 185, 129, 0.18) 50%,
      rgba(148, 163, 184, 0.06) 58%,
      transparent 70%
    );
    animation: rfq-submitted-sweep 900ms ease-out both;
  }

  @media (prefers-reduced-motion: reduce) {
    .rfq-submitted-card::before,
    .rfq-submitted-card::after {
      animation: none;
      opacity: 0;
    }
  }

  /* RFQ first-offer arrival feedback (subtle, one-time). */
  @keyframes rfq-first-offer-glow {
    0% {
      box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
      opacity: 0;
    }
    20% {
      opacity: 1;
    }
    100% {
      box-shadow:
        0 0 0 1px rgba(16, 185, 129, 0.12),
        0 14px 40px rgba(16, 185, 129, 0.07);
      opacity: 0;
    }
  }

  @keyframes rfq-first-offer-sweep {
    0% {
      transform: translateX(-40%) skewX(-12deg);
      opacity: 0;
    }
    18% {
      opacity: 1;
    }
    100% {
      transform: translateX(130%) skewX(-12deg);
      opacity: 0;
    }
  }

  .rfq-first-offer-card {
    position: relative;
    overflow: hidden;
  }

  .rfq-first-offer-card::before,
  .rfq-first-offer-card::after {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    pointer-events: none;
  }

  .rfq-first-offer-card::before {
    animation: rfq-first-offer-glow 1100ms ease-out both;
  }

  .rfq-first-offer-card::after {
    inset: 0;
    background: linear-gradient(
      110deg,
      transparent 0%,
      rgba(148, 163, 184, 0.05) 42%,
      rgba(16, 185, 129, 0.12) 50%,
      rgba(148, 163, 184, 0.05) 58%,
      transparent 72%
    );
    animation: rfq-first-offer-sweep 950ms ease-out both;
  }

  @keyframes rfq-compare-cta-glow {
    0% {
      box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
      border-color: rgb(30 41 59 / 1);
    }
    45% {
      box-shadow:
        0 0 0 2px rgba(16, 185, 129, 0.16),
        0 18px 45px rgba(16, 185, 129, 0.08);
      border-color: rgb(16 185 129 / 0.35);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
      border-color: rgb(30 41 59 / 1);
    }
  }

  .rfq-compare-cta-pulse {
    animation: rfq-compare-cta-glow 1400ms ease-out both;
  }

  @media (prefers-reduced-motion: reduce) {
    .rfq-first-offer-card::before,
    .rfq-first-offer-card::after,
    .rfq-compare-cta-pulse {
      animation: none !important;
    }
  }
}